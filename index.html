<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Shell Tutorial 入门教程（Shell tutorial book）</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta description="Shell入门教程（Shell tutorial book）">
    <meta keywords="Shell,tutorial">
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20viewBox=%220%200%201024%201024%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cstyle%3E%20path%20%7Bfill:%20green;%20%7D%20@media%20(prefers-color-scheme:%20dark)%20%7B%20path%20%7B%20fill:%20white;%20%7D%20%7D%20%3C/style%3E%3Cpath%20d=%22M128%20128h768a42.667%2042.667%200%200%201%2042.667%2042.667v682.666A42.667%2042.667%200%200%201%20896%20896H128a42.667%2042.667%200%200%201-42.667-42.667V170.667A42.667%2042.667%200%200%201%20128%20128z%20m384%20512v85.333h256V640H512zM358.997%20512L238.336%20632.661l60.33%2060.374L479.702%20512%20298.667%20330.965l-60.331%2060.374L358.997%20512z%22%3E%3C/path%3E%3C/svg%3E" type="image/x-icon">
    <style>body { margin: 0; }.markdown-body { -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; max-width: 960px; margin: 28px auto 60px auto; padding: 8px; color: #24292f; background-color: #ffffff; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word;}.markdown-body .octicon { display: inline-block; fill: currentColor; vertical-align: text-bottom;}.markdown-body pre { position: relative;}.markdown-body pre .copied { visibility: hidden; display: flex; position: absolute; cursor: pointer; color: #a5afbb; top: 6px; right: 6px; border-radius: 5px; background: #e3e3e3; padding: 6px; font-size: 12px; transition: all .3s;}.markdown-body pre:hover .copied { visibility: visible;}.markdown-body pre:hover .copied:hover { background: #4caf50; color: #fff;}.markdown-body pre:hover .copied:active,.markdown-body pre .copied.active { background: #2e9b33; color: #fff;}.markdown-body pre .copied .octicon-copy { display: block;}.markdown-body pre .copied .octicon-check { display: none;}.markdown-body pre .active .octicon-copy { display: none;}.markdown-body pre .active .octicon-check { display: block;}.markdown-body .octicon-video { border: 1px solid #d0d7de !important; border-radius: 6px !important; display: block;}.markdown-body .octicon-video summary { border-bottom: 1px solid #d0d7de !important; padding: 8px 16px !important; cursor: pointer;}.markdown-body .octicon-video > video { display: block !important; max-width: 100% !important; padding: 2px; box-sizing: border-box; border-bottom-right-radius: 6px !important; border-bottom-left-radius: 6px !important;}.markdown-body details.octicon-video:not([open])>*:not(summary) { display: none !important;}.markdown-body details.octicon-video:not([open]) > summary { border-bottom: 0 !important;}.markdown-body .octicon-video summary > svg + span { margin: 4px !important;}.markdown-body h1:hover a.anchor .octicon-link:before,.markdown-body h2:hover a.anchor .octicon-link:before,.markdown-body h3:hover a.anchor .octicon-link:before,.markdown-body h4:hover a.anchor .octicon-link:before,.markdown-body h5:hover a.anchor .octicon-link:before,.markdown-body h6:hover a.anchor .octicon-link:before { width: 16px; height: 16px; content: ' '; display: inline-block; background-color: currentColor; -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>"); mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");}.markdown-body a.anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; min-width: 16px;}.markdown-body a.anchor:focus { outline: none;}.markdown-body h1:hover a.anchor,.markdown-body h2:hover a.anchor,.markdown-body h3:hover a.anchor,.markdown-body h4:hover a.anchor,.markdown-body h5:hover a.anchor,.markdown-body h6:hover a.anchor { text-decoration: none;}.markdown-body h1:hover a.anchor .octicon-link,.markdown-body h2:hover a.anchor .octicon-link,.markdown-body h3:hover a.anchor .octicon-link,.markdown-body h4:hover a.anchor .octicon-link,.markdown-body h5:hover a.anchor .octicon-link,.markdown-body h6:hover a.anchor .octicon-link { visibility: visible;}.markdown-body details,.markdown-body figcaption,.markdown-body figure { display: block;}.markdown-body summary { display: list-item;}.markdown-body a { background-color: transparent; color: #0969da; text-decoration: none;}.markdown-body a:active,.markdown-body a:hover { outline-width: 0;}.markdown-body abbr[title] { border-bottom: none; -webkit-text-decoration: underline dotted; text-decoration: underline dotted;}.markdown-body b,.markdown-body strong { font-weight: 600;}.markdown-body dfn { font-style: italic;}.markdown-body h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid hsla(210,18%,87%,1);}.markdown-body mark { background-color: #ff0; color: #24292f;}.markdown-body small { font-size: 90%;}.markdown-body sub,.markdown-body sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline;}.markdown-body sub { bottom: -0.25em;}.markdown-body sup { top: -0.5em;}.markdown-body img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: #ffffff;}.markdown-body code,.markdown-body kbd,.markdown-body pre,.markdown-body samp { font-family: monospace,monospace; font-size: 1em;}.markdown-body figure { margin: 1em 40px;}.markdown-body hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid hsla(210,18%,87%,1); height: .25em; padding: 0; margin: 24px 0; background-color: #d0d7de; border: 0;}.markdown-body html [type=button],.markdown-body [type=reset],.markdown-body [type=submit] { -webkit-appearance: button;}.markdown-body [type=button]::-moz-focus-inner,.markdown-body [type=reset]::-moz-focus-inner,.markdown-body [type=submit]::-moz-focus-inner { border-style: none; padding: 0;}.markdown-body [type=button]:-moz-focusring,.markdown-body [type=reset]:-moz-focusring,.markdown-body [type=submit]:-moz-focusring { outline: 1px dotted ButtonText;}.markdown-body [type=checkbox],.markdown-body [type=radio] { box-sizing: border-box; padding: 0;}.markdown-body [type=number]::-webkit-inner-spin-button,.markdown-body [type=number]::-webkit-outer-spin-button { height: auto;}.markdown-body [type=search] { -webkit-appearance: textfield; outline-offset: -2px;}.markdown-body [type=search]::-webkit-search-cancel-button,.markdown-body [type=search]::-webkit-search-decoration { -webkit-appearance: none;}.markdown-body ::-webkit-input-placeholder { color: inherit; opacity: .54;}.markdown-body ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit;}.markdown-body a:hover { text-decoration: underline;}.markdown-body hr::before { display: table; content: "";}.markdown-body hr::after { display: table; clear: both; content: "";}.markdown-body table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto;}.markdown-body td,.markdown-body th { padding: 0;}.markdown-body details summary { cursor: pointer;}.markdown-body details:not([open])>*:not(summary) { display: none !important;}.markdown-body kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: #24292f; vertical-align: middle; background-color: #f6f8fa; border: solid 1px rgba(175,184,193,0.2); border-bottom-color: rgba(175,184,193,0.2); border-radius: 6px; box-shadow: inset 0 -1px 0 rgba(175,184,193,0.2);}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25;}.markdown-body h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid hsla(210,18%,87%,1);}.markdown-body h3 { font-weight: 600; font-size: 1.25em;}.markdown-body h4 { font-weight: 600; font-size: 1em;}.markdown-body h5 { font-weight: 600; font-size: .875em;}.markdown-body h6 { font-weight: 600; font-size: .85em; color: #57606a;}.markdown-body p { margin-top: 0; margin-bottom: 10px;}.markdown-body blockquote { margin: 0; padding: 0 1em; color: #57606a; border-left: .25em solid #d0d7de;}.markdown-body ul,.markdown-body ol { margin-top: 0; margin-bottom: 0; padding-left: 2em;}.markdown-body ol ol,.markdown-body ul ol { list-style-type: lower-roman;}.markdown-body ul ul ol,.markdown-body ul ol ol,.markdown-body ol ul ol,.markdown-body ol ol ol { list-style-type: lower-alpha;}.markdown-body ul ul,.markdown-body ul ol,.markdown-body ol ol,.markdown-body ol ul { margin-top: 0; margin-bottom: 0;}.markdown-body dd { margin-left: 0;}.markdown-body tt,.markdown-body code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px;}.markdown-body pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; word-wrap: normal;}.markdown-body :-ms-input-placeholder { color: #6e7781; opacity: 1;}.markdown-body ::-ms-input-placeholder { color: #6e7781; opacity: 1;}.markdown-body ::placeholder { color: #6e7781; opacity: 1;}.markdown-body [data-catalyst] { display: block;}.markdown-body g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em;}.markdown-body g-emoji img { width: 1em; height: 1em;}.markdown-body::before { display: table; content: "";}.markdown-body::after { display: table; clear: both; content: "";}.markdown-body>*:first-child { margin-top: 0 !important;}.markdown-body>*:last-child { margin-bottom: 0 !important;}.markdown-body a:not([href]) { color: inherit; text-decoration: none;}.markdown-body .absent { color: #cf222e;}.markdown-body p,.markdown-body blockquote,.markdown-body ul,.markdown-body ol,.markdown-body dl,.markdown-body table,.markdown-body pre,.markdown-body details { margin-top: 0; margin-bottom: 16px;}.markdown-body blockquote>:first-child { margin-top: 0;}.markdown-body blockquote>:last-child { margin-bottom: 0;}.markdown-body sup>a::before { content: "[";}.markdown-body sup>a::after { content: "]";}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link { color: #24292f; vertical-align: middle; visibility: hidden;}.markdown-body h1 tt,.markdown-body h1 code,.markdown-body h2 tt,.markdown-body h2 code,.markdown-body h3 tt,.markdown-body h3 code,.markdown-body h4 tt,.markdown-body h4 code,.markdown-body h5 tt,.markdown-body h5 code,.markdown-body h6 tt,.markdown-body h6 code { padding: 0 .2em; font-size: inherit;}.markdown-body ul.no-list,.markdown-body ol.no-list { padding: 0; list-style-type: none;}.markdown-body ol[type="1"] { list-style-type: decimal;}.markdown-body ol[type=a] { list-style-type: lower-alpha;}.markdown-body ol[type=i] { list-style-type: lower-roman;}.markdown-body div>ol:not([type]) { list-style-type: decimal;}.markdown-body ul ul,.markdown-body ul ol,.markdown-body ol ol,.markdown-body ol ul { margin-top: 0; margin-bottom: 0;}.markdown-body li>p { margin-top: 16px;}.markdown-body li+li { margin-top: .25em;}.markdown-body dl { padding: 0;}.markdown-body dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600;}.markdown-body dl dd { padding: 0 16px; margin-bottom: 16px;}.markdown-body table th { font-weight: 600;}.markdown-body table th,.markdown-body table td { padding: 6px 13px; border: 1px solid #d0d7de;}.markdown-body table tr { background-color: #ffffff; border-top: 1px solid hsla(210,18%,87%,1);}.markdown-body table tr:nth-child(2n) { background-color: #f6f8fa;}.markdown-body table img { background-color: transparent;}.markdown-body img[align=right] { padding-left: 20px;}.markdown-body img[align=left] { padding-right: 20px;}.markdown-body .emoji { max-width: none; vertical-align: text-top; background-color: transparent;}.markdown-body span.frame { display: block; overflow: hidden;}.markdown-body span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid #d0d7de;}.markdown-body span.frame span img { display: block; float: left;}.markdown-body span.frame span span { display: block; padding: 5px 0 0; clear: both; color: #24292f;}.markdown-body span.align-center { display: block; overflow: hidden; clear: both;}.markdown-body span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center;}.markdown-body span.align-center span img { margin: 0 auto; text-align: center;}.markdown-body span.align-right { display: block; overflow: hidden; clear: both;}.markdown-body span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right;}.markdown-body span.align-right span img { margin: 0; text-align: right;}.markdown-body span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden;}.markdown-body span.float-left span { margin: 13px 0 0;}.markdown-body span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden;}.markdown-body span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right;}.markdown-body code,.markdown-body tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: rgba(175,184,193,0.2); border-radius: 6px;}.markdown-body code br,.markdown-body tt br { display: none;}.markdown-body del code { text-decoration: inherit;}.markdown-body pre code { font-size: 100%;}.markdown-body pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0;}.markdown-body .highlight { margin-bottom: 16px;}.markdown-body .highlight pre { margin-bottom: 0; word-break: normal;}.markdown-body pre code { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: #f6f8fa; border-radius: 6px;}.markdown-body pre code,.markdown-body pre tt { display: block; margin: 0; word-wrap: normal; border: 0;}.markdown-body .csv-data td,.markdown-body .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap;}.markdown-body .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: #ffffff; border: 0;}.markdown-body .csv-data tr { border-top: 0;}.markdown-body .csv-data th { font-weight: 600; background: #f6f8fa; border-top: 0;}.markdown-body .footnotes { font-size: 12px; color: #57606a; border-top: 1px solid #d0d7de;}.markdown-body .footnotes ol { padding-left: 16px;}.markdown-body .footnotes li { position: relative;}.markdown-body .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid #0969da; border-radius: 6px;}.markdown-body .footnotes li:target { color: #24292f;}.markdown-body .footnotes .data-footnote-backref g-emoji { font-family: monospace;}.markdown-body [hidden] { display: none !important;}.markdown-body ::-webkit-calendar-picker-indicator { filter: invert(50%);}/** language color **/.markdown-body .token.tag .attr-value { color: #032f62;}.markdown-body .token.property,.markdown-body .token.tag,.markdown-body .token.boolean,.markdown-body .token.number,.markdown-body .token.function-name,.markdown-body .token.constant,.markdown-body .token.symbol,.markdown-body .token.deleted { color: #0060c9;}.markdown-body .token.punctuation { color: #a0a0a0;}.markdown-body code[class*="language-"] { color: black;}.markdown-body code[class*="language-"] .token.selector,.markdown-body code[class*="language-"] .token.string,.markdown-body code[class*="language-"] .token.attr-name,.markdown-body code[class*="language-"] .token.content,.markdown-body code[class*="language-"] .token.char,.markdown-body code[class*="language-"] .token.class-name,.markdown-body code[class*="language-"] .token.function,.markdown-body code[class*="language-"] .token.builtin { color: #6f42c1;}.markdown-body code[class*="language-"] .token.inserted { color: #22863a; background-color: #f0fff4;}.markdown-body code[class*="language-"] .token.deleted { color: #b31d28; background-color: #ffeef0;}.markdown-body code[class*="language-"] .code-block { color: #032f62;}.markdown-body code[class*="language-"] .token.comment,.markdown-body code[class*="language-"] .token.block-comment,.markdown-body code[class*="language-"] .token.prolog,.markdown-body code[class*="language-"] .token.doctype,.markdown-body code[class*="language-"] .token.cdata { color: #7D8B99;}.markdown-body code[class*="language-"] .token.punctuation { color: #a0a0a0;}.markdown-body code[class*="language-"] .token.operator,.markdown-body code[class*="language-"] .token.entity,.markdown-body code[class*="language-"] .token.variable { color: #d73a49; background: rgba(255, 255, 255, 0.5);}.markdown-body code[class*="language-"] .token.url { color: #0027ff;}.markdown-body code[class*="language-"] .token.atrule,.markdown-body code[class*="language-"] .token.attr-value { color: #004698;}.markdown-body code[class*="language-"] .token.keyword { color: #d63200;}.markdown-body code[class*="language-"] .token.regex,.markdown-body code[class*="language-"] .token.important { color: #e90;}.markdown-body code[class*="language-"] .token.string { color: #0a53c1;}</style>
    <style></style>
  </head>
  <body><a aria-label="View source on GitHub" target="__blank" class="github-corner" href="https://github.com/jaywcjlove/shell-tutorial"><svg width="54" height="54" viewBox="0 0 250 250" aria-hidden="true" style="fill: rgb(32, 34, 37); color: rgb(255, 255, 255); position: fixed; z-index: 99999; border: 0px; top: 0px; right: 0px;">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path style="transform-origin: 130px 106px;" class="octo-arm" fill="currentColor" d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"></path>
        <path class="octo-body" fill="currentColor" d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"></path>
      </svg></a>
    <div class="markdown-body">
      <h1 id="shell-tutorial"><a class="anchor" aria-hidden="true" tabindex="-1" href="#shell-tutorial"><span class="octicon octicon-link"></span></a>Shell Tutorial</h1>
      <p>最近需要写一个脚本管理服务，花了两天时间学习了一下shell脚本，记录我的学习笔记。</p>
      <h2 id="目录"><a class="anchor" aria-hidden="true" tabindex="-1" href="#目录"><span class="octicon octicon-link"></span></a>目录</h2>
      <ul>
        <li><a href="#%E8%84%9A%E6%9C%AC%E8%BF%90%E8%A1%8C">脚本运行</a></li>
        <li><a href="#%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6">特殊字符</a>
          <ul>
            <li><a href="#%E6%B3%A8%E9%87%8A">注释</a></li>
            <li><a href="#%E5%91%BD%E4%BB%A4%E5%88%86%E5%89%B2%E7%AC%A6">命令分割符</a></li>
            <li><a href="#%E7%BB%93%E6%9D%9F%E7%AC%A6">结束符</a></li>
            <li><a href="#%E5%8F%A5%E5%8F%B7%E5%9C%86%E7%82%B9">句号/圆点</a></li>
            <li><a href="#%E5%BC%95%E5%8F%B7">引号</a></li>
            <li><a href="#%E5%91%BD%E4%BB%A4%E6%9B%BF%E6%8D%A2">命令替换</a></li>
          </ul>
        </li>
        <li><a href="#%E6%93%8D%E4%BD%9C%E7%AC%A6">操作符</a>
          <ul>
            <li><a href="#%E8%B5%8B%E5%80%BC">赋值</a></li>
            <li><a href="#%E8%AE%A1%E7%AE%97%E6%93%8D%E4%BD%9C%E7%AC%A6">计算操作符</a></li>
            <li><a href="#%E4%BD%8D%E6%93%8D%E4%BD%9C%E7%AC%A6">位操作符</a></li>
            <li><a href="#%E9%80%97%E5%8F%B7%E6%93%8D%E4%BD%9C%E7%AC%A6">逗号操作符</a></li>
            <li><a href="#%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C%E7%AC%A6">逻辑操作符</a></li>
          </ul>
        </li>
        <li><a href="#%E5%8F%98%E9%87%8F">变量</a>
          <ul>
            <li><a href="#%E5%8F%98%E9%87%8F%E5%80%BC">变量值</a></li>
            <li><a href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F">定义变量</a></li>
            <li><a href="#%E5%8F%AA%E8%AF%BB%E5%8F%98%E9%87%8F">只读变量</a></li>
            <li><a href="#%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F">使用变量</a></li>
            <li><a href="#%E5%88%A0%E9%99%A4%E5%8F%98%E9%87%8Funset">删除变量unset</a></li>
            <li><a href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B">变量类型</a></li>
            <li><a href="#%E5%86%85%E9%83%A8%E5%8F%98%E9%87%8F">内部变量</a></li>
            <li><a href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0">位置参数</a></li>
            <li><a href="#%E5%8F%82%E6%95%B0%E6%9B%BF%E6%8D%A2">参数替换</a></li>
            <li><a href="#declaretypeset">declare/typeset</a></li>
            <li><a href="#%E5%8F%98%E9%87%8F%E9%97%B4%E6%8E%A5%E5%BC%95%E7%94%A8">变量间接引用</a></li>
            <li><a href="#$RANDOM">$RANDOM</a></li>
            <li><a href="#%E5%8F%8C%E6%8B%AC%E5%8F%B7%E7%BB%93%E6%9E%84">双括号结构</a></li>
          </ul>
        </li>
        <li><a href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6">转义字符</a></li>
        <li><a href="#%E6%B5%8B%E8%AF%95">测试</a>
          <ul>
            <li><a href="#%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%84">测试结构</a></li>
            <li><a href="#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95%E6%93%8D%E4%BD%9C%E7%AC%A6">文件测试操作符</a></li>
            <li><a href="#%E6%AF%94%E8%BE%83%E6%93%8D%E4%BD%9C%E7%AC%A6">比较操作符</a></li>
          </ul>
        </li>
        <li><a href="#%E6%93%8D%E4%BD%9C%E5%AD%97%E7%AC%A6%E4%B8%B2">操作字符串</a></li>
        <li><a href="#forwhile">for/while</a>
          <ul>
            <li><a href="#for">for</a></li>
            <li><a href="#while">while</a></li>
            <li><a href="#until">until</a></li>
            <li><a href="#%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF">嵌套循环</a></li>
            <li><a href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6">循环控制</a></li>
          </ul>
        </li>
        <li><a href="#caseselect">case/select</a>
          <ul>
            <li><a href="#case">case</a></li>
            <li><a href="#select">select</a></li>
          </ul>
        </li>
        <li><a href="#%E5%87%BD%E6%95%B0">函数</a>
          <ul>
            <li><a href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F">局部变量</a></li>
            <li><a href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0">函数参数</a></li>
            <li><a href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC">函数返回值</a></li>
          </ul>
        </li>
      </ul>
      <h2 id="脚本运行"><a class="anchor" aria-hidden="true" tabindex="-1" href="#脚本运行"><span class="octicon octicon-link"></span></a>脚本运行</h2>
      <p>建立一个文本文件<a href="./example/demo1">demo1</a>，以<code>.sh</code>结尾的或者不需要后缀都可以，下面是demo1的内容:</p>
      <pre class="language-shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">NUM</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token builtin class-name">printf</span> <span class="token string">"输出数字<span class="token variable">$NUM</span><span class="token entity" title="\n">\n</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$NUM</span>
</code><div onclick="copied(this)" data-code="#!/bin/bash
NUM=10
printf &#x22;输出数字$NUM\n&#x22;
echo $NUM
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>直接运行是会报错误的，因为没有权限执行（Permission denied），需要给权限。下面方式</p>
      <pre class="language-bash"><code class="language-bash"><span class="token function">chmod</span> +x ./demo1   <span class="token comment"># 使每个人都有执行的权限</span>
<span class="token function">chmod</span> +rx ./demo1  <span class="token comment"># 使每个人都有读和执行的权限</span>
<span class="token function">chmod</span> u+rx ./demo1 <span class="token comment"># 仅仅使脚本文件拥有者有读和执行的权限</span>
<span class="token function">chmod</span> u+x ./demo1  <span class="token comment"># 只有自己可以执行，其它人不能执行</span>
<span class="token function">chmod</span> ug+x ./demo1 <span class="token comment"># 只有自己以及同一群可以执行，其它人不能执行 </span>
<span class="token function">chmod</span> <span class="token number">555</span> ./demo1  <span class="token comment"># 使每个人都有读和执行的权限</span>
<span class="token function">chmod</span> <span class="token number">777</span> ./demo1 
</code><div onclick="copied(this)" data-code="chmod +x ./demo1   # 使每个人都有执行的权限
chmod +rx ./demo1  # 使每个人都有读和执行的权限
chmod u+rx ./demo1 # 仅仅使脚本文件拥有者有读和执行的权限
chmod u+x ./demo1  # 只有自己可以执行，其它人不能执行
chmod ug+x ./demo1 # 只有自己以及同一群可以执行，其它人不能执行 
chmod 555 ./demo1  # 使每个人都有读和执行的权限
chmod 777 ./demo1 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>当前目录下运行 <a href="./example/demo1">demo1</a> 脚本</p>
      <pre class="language-bash"><code class="language-bash">./demo1
<span class="token comment"># 输出结果===></span>
输出数字10
<span class="token number">10</span>
</code><div onclick="copied(this)" data-code="./demo1
# 输出结果===>
输出数字10
10
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>直接运行demo1脚本，这个方法是把脚本给系统中所有其他的用户使用，这个时候需要你将demo1脚本移动到目录<code>/usr/local/bin</code> 中(必须要有root的权限)，移动到 bin 目录之后，你只需使用 <code>demo1</code> 加回车就能执行脚本了。</p>
      <pre class="language-bash"><code class="language-bash">demo1

<span class="token comment"># 输出结果===></span>
输出数字10
<span class="token number">10</span>
</code><div onclick="copied(this)" data-code="demo1

# 输出结果===>
输出数字10
10
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>通过sh或者bash命令运行脚本，<code>sh scriptname</code> 运行一个Bash脚本将会禁止所有Bash的扩展特性。</p>
      <pre class="language-bash"><code class="language-bash"><span class="token comment"># 你能够运行它用命令</span>
<span class="token function">sh</span> demo1

<span class="token comment"># 另外也也可以用bash来执行</span>
<span class="token function">bash</span> demo1
</code><div onclick="copied(this)" data-code="# 你能够运行它用命令
sh demo1

# 另外也也可以用bash来执行
bash demo1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>脚本以"#!"行开头，行将会命令解释器(sh或是bash)。<code>#!/bin/rm</code> 当你运行这个脚本时，除了这个脚本消失了之外，你不会发现更多其他的东西。</p>
      <h2 id="特殊字符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#特殊字符"><span class="octicon octicon-link"></span></a>特殊字符</h2>
      <h3 id="注释"><a class="anchor" aria-hidden="true" tabindex="-1" href="#注释"><span class="octicon octicon-link"></span></a>注释</h3>
      <p>以<code>#</code>开头的行就是注释，会被解释器忽略。注释行前面也可以有空白字符。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token comment">#--------------------------------------------</span>
<span class="token comment"># 这是一个注释</span>
<span class="token comment"># author：作者</span>
<span class="token comment"># site：https://github.com/jaywcjlove</span>
<span class="token comment">#--------------------------------------------</span>

<span class="token builtin class-name">echo</span> <span class="token string">"A comment will follow."</span> <span class="token comment"># 这里可以添加注释.</span>
<span class="token comment">#                            ^ 注意在#前面可以有空白符</span>
</code><div onclick="copied(this)" data-code="#--------------------------------------------
# 这是一个注释
# author：作者
# site：https://github.com/jaywcjlove
#--------------------------------------------

echo &#x22;A comment will follow.&#x22; # 这里可以添加注释.
#                            ^ 注意在#前面可以有空白符
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>echo命令给出的一个转义的#字符并不会开始一个注释。同样地，出现在一些参数代换结构和在数值常量表达式中的#字符也同样不会开始一个注释。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> <span class="token string">"这里的 # 不会被注释"</span>
<span class="token builtin class-name">echo</span> <span class="token string">'这里的 # 不会被注释'</span>
<span class="token builtin class-name">echo</span> 这里的 <span class="token punctuation">\</span># 不会被注释
<span class="token builtin class-name">echo</span> 这里的 <span class="token comment"># 会被注释</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">PATH</span><span class="token operator">#</span>*<span class="token operator">:</span>}</span>       <span class="token comment"># 前面的#是参数代换，不是注释.</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span> <span class="token number">2</span>#<span class="token number">101011</span> <span class="token variable">))</span></span>  <span class="token comment"># 基本转换，不是注释.</span>
</code><div onclick="copied(this)" data-code="echo &#x22;这里的 # 不会被注释&#x22;
echo &#x27;这里的 # 不会被注释&#x27;
echo 这里的 \# 不会被注释
echo 这里的 # 会被注释

echo ${PATH#*:}       # 前面的#是参数代换，不是注释.
echo $(( 2#101011 ))  # 基本转换，不是注释.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="命令分割符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#命令分割符"><span class="octicon octicon-link"></span></a>命令分割符</h3>
      <p>分号<code>;</code>命令分割符，分割符允许在同一行里有两个或更多的命令。执行<a href="./example/demo2">demo2</a>，会将 demo2 拷贝输出 demo2.bak 。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> hello<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> there         <span class="token comment"># 输出 hello 和 there</span>
<span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token string">'demo2'</span>               <span class="token comment"># 变量</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -x <span class="token string">"<span class="token variable">$filename</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token comment"># 注意："if" and "then"需要分隔符</span>
                               <span class="token comment"># 思考一下这是为什么?</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"File <span class="token variable">$filename</span> exists."</span><span class="token punctuation">;</span> <span class="token function">cp</span> <span class="token variable">$filename</span> <span class="token variable">$filename</span>.bak
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"File <span class="token variable">$filename</span> not found."</span><span class="token punctuation">;</span> <span class="token function">touch</span> <span class="token variable">$filename</span>
<span class="token keyword">fi</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"File test complete."</span>
</code><div onclick="copied(this)" data-code="echo hello; echo there         # 输出 hello 和 there
filename=&#x27;demo2&#x27;               # 变量
if [ -x &#x22;$filename&#x22; ]; then    # 注意：&#x22;if&#x22; and &#x22;then&#x22;需要分隔符
                               # 思考一下这是为什么?
  echo &#x22;File $filename exists.&#x22;; cp $filename $filename.bak
else
  echo &#x22;File $filename not found.&#x22;; touch $filename
fi; echo &#x22;File test complete.&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="结束符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#结束符"><span class="octicon octicon-link"></span></a>结束符</h3>
      <p>双分号<code>;;</code>，case语句分支的结束符。<a href="./example/demo3">demo3</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">read</span> Keypress
<span class="token keyword">case</span> <span class="token string">"<span class="token variable">$Keypress</span>"</span> <span class="token keyword">in</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span><span class="token punctuation">]</span>   <span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"Lowercase letter"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span><span class="token punctuation">]</span>   <span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"Uppercase letter"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>         <span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"Digit"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  *             <span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"Punctuation, whitespace, or other"</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>      <span class="token comment">#  允许字符串的范围出现在[]中,</span>
          <span class="token comment">#+ 或者POSIX风格的[[中.</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="read Keypress
case &#x22;$Keypress&#x22; in
  [[:lower:]]   ) echo &#x22;Lowercase letter&#x22;;;
  [[:upper:]]   ) echo &#x22;Uppercase letter&#x22;;;
  [0-9]         ) echo &#x22;Digit&#x22;;;
  *             ) echo &#x22;Punctuation, whitespace, or other&#x22;;;
esac      #  允许字符串的范围出现在[]中,
          #+ 或者POSIX风格的[[中.
exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="句号圆点"><a class="anchor" aria-hidden="true" tabindex="-1" href="#句号圆点"><span class="octicon octicon-link"></span></a>句号/圆点</h3>
      <p>作为一个文件名的组成部分<code>.</code>，当点<code>.</code>以一个文件名为前缀时，起作用使该文件变成了隐藏文件。这种隐藏文件ls一般是不会显示出来的。</p>
      <p>作为目录名时，单个点（.）表示当前目录，两个点(..)表示上一级目录（或称为父目录）。</p>
      <p>点(.)字符匹配。作为正则表达式的一部分,匹配字符时，单点（.）表示匹配任意一个字符。</p>
      <h3 id="引号"><a class="anchor" aria-hidden="true" tabindex="-1" href="#引号"><span class="octicon octicon-link"></span></a>引号</h3>
      <p>引号一个很重要的作用是保护命令行上的一个参数不被shell解释，而把此参数传递给要执行的程序来处理它。</p>
      <pre class="language-bash"><code class="language-bash">bash$ <span class="token function">grep</span> <span class="token string">'[Ff]ile'</span> demo*
demo2:filename<span class="token operator">=</span><span class="token string">'demo2'</span>
demo2:if <span class="token punctuation">[</span> -x <span class="token string">"<span class="token variable">$filename</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token comment"># 注意："if" and "then"需要分隔符</span>
demo2:  <span class="token builtin class-name">echo</span> <span class="token string">"File <span class="token variable">$filename</span> exists."</span><span class="token punctuation">;</span> <span class="token function">cp</span> <span class="token variable">$filename</span> <span class="token variable">$filename</span>.bak
</code><div onclick="copied(this)" data-code="bash$ grep &#x27;[Ff]ile&#x27; demo*
demo2:filename=&#x27;demo2&#x27;
demo2:if [ -x &#x22;$filename&#x22; ]; then    # 注意：&#x22;if&#x22; and &#x22;then&#x22;需要分隔符
demo2:  echo &#x22;File $filename exists.&#x22;; cp $filename $filename.bak
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>引号能改掉echo's不换行的“习惯”。</p>
      <pre class="language-bash"><code class="language-bash">bash$ <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> -al<span class="token variable">)</span></span>
total <span class="token number">24</span> drwxr-xr-x <span class="token number">5</span> kacperwang staff <span class="token number">170</span> <span class="token number">1</span> <span class="token number">22</span> <span class="token number">16</span>:47 <span class="token builtin class-name">.</span> drwxr-xr-x <span class="token number">5</span> kacperwang staff <span class="token number">170</span> <span class="token number">1</span> <span class="token number">22</span> <span class="token number">13</span>:29 <span class="token punctuation">..</span> -rwxr-xr-x <span class="token number">1</span> kacperwang staff <span class="token number">58</span> <span class="token number">1</span> <span class="token number">22</span> <span class="token number">16</span>:20 demo1 -rwxr-xr-x <span class="token number">1</span> kacperwang staff <span class="token number">325</span> <span class="token number">1</span> <span class="token number">22</span> <span class="token number">16</span>:39 demo2 -rwxr-xr-x <span class="token number">1</span> kacperwang staff <span class="token number">899</span> <span class="token number">1</span> <span class="token number">22</span> <span class="token number">17</span>:16 demo3

bash$ <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> -al<span class="token variable">)</span></span>"</span>
total <span class="token number">24</span>
drwxr-xr-x  <span class="token number">5</span> kacperwang  staff  <span class="token number">170</span>  <span class="token number">1</span> <span class="token number">22</span> <span class="token number">16</span>:47 <span class="token builtin class-name">.</span>
drwxr-xr-x  <span class="token number">5</span> kacperwang  staff  <span class="token number">170</span>  <span class="token number">1</span> <span class="token number">22</span> <span class="token number">13</span>:29 <span class="token punctuation">..</span>
-rwxr-xr-x  <span class="token number">1</span> kacperwang  staff   <span class="token number">58</span>  <span class="token number">1</span> <span class="token number">22</span> <span class="token number">16</span>:20 demo1
-rwxr-xr-x  <span class="token number">1</span> kacperwang  staff  <span class="token number">325</span>  <span class="token number">1</span> <span class="token number">22</span> <span class="token number">16</span>:39 demo2
-rwxr-xr-x  <span class="token number">1</span> kacperwang  staff  <span class="token number">899</span>  <span class="token number">1</span> <span class="token number">22</span> <span class="token number">17</span>:16 demo3
</code><div onclick="copied(this)" data-code="bash$ echo $(ls -al)
total 24 drwxr-xr-x 5 kacperwang staff 170 1 22 16:47 . drwxr-xr-x 5 kacperwang staff 170 1 22 13:29 .. -rwxr-xr-x 1 kacperwang staff 58 1 22 16:20 demo1 -rwxr-xr-x 1 kacperwang staff 325 1 22 16:39 demo2 -rwxr-xr-x 1 kacperwang staff 899 1 22 17:16 demo3

bash$ echo &#x22;$(ls -al)&#x22;
total 24
drwxr-xr-x  5 kacperwang  staff  170  1 22 16:47 .
drwxr-xr-x  5 kacperwang  staff  170  1 22 13:29 ..
-rwxr-xr-x  1 kacperwang  staff   58  1 22 16:20 demo1
-rwxr-xr-x  1 kacperwang  staff  325  1 22 16:39 demo2
-rwxr-xr-x  1 kacperwang  staff  899  1 22 17:16 demo3
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>单引号</strong></p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">'this is a string'</span>
</code><div onclick="copied(this)" data-code="str=&#x27;this is a string&#x27;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的<br>单引号字串中不能出现单引号（对单引号使用转义符后也不行）</p>
      <p><strong>双引号</strong></p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">'qinjx'</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">"Hello, I know your are <span class="token entity" title="\&#x22;">\"</span><span class="token variable">$your_name</span><span class="token entity" title="\&#x22;">\"</span>! <span class="token entity" title="\n">\n</span>"</span>
</code><div onclick="copied(this)" data-code="your_name=&#x27;qinjx&#x27;
str=&#x22;Hello, I know your are \&#x22;$your_name\&#x22;! \n&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>双引号里可以有变量<br>双引号里可以出现转义字符</p>
      <h3 id="命令替换"><a class="anchor" aria-hidden="true" tabindex="-1" href="#命令替换"><span class="octicon octicon-link"></span></a>命令替换</h3>
      <p>命令替换"`"，将会重新分配一个命令甚至是多个命令的输出；它会将命令的输出如实地添加到另一个上下文中。<a href="./example/demo4">demo4</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">script_name</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $0<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"The name of this script is <span class="token variable">$script_name</span>."</span>

<span class="token assign-left variable">textfile_listing</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> *<span class="token variable">`</span></span>
<span class="token comment"># 变量中包含了当前工作目录下所有的*文件</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$textfile_listing</span>
</code><div onclick="copied(this)" data-code="script_name=&#x60;basename $0&#x60;
echo &#x22;The name of this script is $script_name.&#x22;

textfile_listing=&#x60;ls *&#x60;
# 变量中包含了当前工作目录下所有的*文件
echo $textfile_listing
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>通过这个符号，批量删除文件</p>
      <pre class="language-shell"><code class="language-shell"><span class="token function">rm</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> filename<span class="token variable">`</span></span>   <span class="token comment"># "filename" 包含了需要被删除的文件列表</span>
<span class="token comment"># 可能会产生"参数列表太长"的错误</span>
<span class="token comment"># 更好的方法是              xargs rm -- &#x3C; filename </span>
<span class="token comment"># ( -- 同时覆盖了那些以"-"开头的文件所产生的特殊情况 )</span>
</code><div onclick="copied(this)" data-code="rm &#x60;cat filename&#x60;   # &#x22;filename&#x22; 包含了需要被删除的文件列表
# 可能会产生&#x22;参数列表太长&#x22;的错误
# 更好的方法是              xargs rm -- < filename 
# ( -- 同时覆盖了那些以&#x22;-&#x22;开头的文件所产生的特殊情况 )
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h2 id="操作符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#操作符"><span class="octicon octicon-link"></span></a>操作符</h2>
      <h3 id="赋值"><a class="anchor" aria-hidden="true" tabindex="-1" href="#赋值"><span class="octicon octicon-link"></span></a>赋值</h3>
      <p>变量赋值，初始化或改变一个变量的值，通用的变量赋值操作符，可以用于数值和字符串的赋值</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token number">27</span>
<span class="token assign-left variable">category</span><span class="token operator">=</span>minerals  <span class="token comment"># "="字符后面不能加空白字符.</span>
</code><div onclick="copied(this)" data-code="var=27
category=minerals  # &#x22;=&#x22;字符后面不能加空白字符.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>不要把"="赋值操作符和<code>=</code>测试操作符搞混了。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># = 用于测试操作符</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$string1</span>"</span> <span class="token operator">=</span> <span class="token string">"<span class="token variable">$string2</span>"</span> <span class="token punctuation">]</span>
<span class="token comment"># if [ "X$string1" = "X$string2" ] 会更安全,</span>
<span class="token comment"># 它为了防止其中有一个字符串为空时产生错误信息.</span>
<span class="token comment"># (增加的"X"字符可以互相抵消.) </span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>
</code><div onclick="copied(this)" data-code="# = 用于测试操作符
if [ &#x22;$string1&#x22; = &#x22;$string2&#x22; ]
# if [ &#x22;X$string1&#x22; = &#x22;X$string2&#x22; ] 会更安全,
# 它为了防止其中有一个字符串为空时产生错误信息.
# (增加的&#x22;X&#x22;字符可以互相抵消.) 
then
   command
fi
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="计算操作符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#计算操作符"><span class="octicon octicon-link"></span></a>计算操作符</h3>
      <table>
        <thead>
          <tr>
            <th>操作符</th>
            <th>描述</th>
            <th>操作符</th>
            <th>描述</th>
            <th>操作符</th>
            <th>描述</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>+</code></td>
            <td>加</td>
            <td><code>/</code></td>
            <td>除</td>
            <td><code>**</code></td>
            <td>求幂</td>
          </tr>
          <tr>
            <td><code>-</code></td>
            <td>减</td>
            <td><code>*</code></td>
            <td>乘</td>
            <td><code>%</code></td>
            <td>求模<a href="./example/demo6">demo6</a></td>
          </tr>
        </tbody>
      </table>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># Bash在版本2.02引入了"**"求幂操作符.</span>
<span class="token builtin class-name">let</span> <span class="token string">"z=5**3"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"z = <span class="token variable">$z</span>"</span>   <span class="token comment"># z = 125</span>

<span class="token comment"># 求模（它返回整数整除一个数后的余数）</span>
<span class="token builtin class-name">let</span> <span class="token string">"y=5 % 3"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"y = <span class="token variable">$y</span>"</span>   <span class="token comment"># y = 2</span>
</code><div onclick="copied(this)" data-code="# Bash在版本2.02引入了&#x22;**&#x22;求幂操作符.
let &#x22;z=5**3&#x22;
echo &#x22;z = $z&#x22;   # z = 125

# 求模（它返回整数整除一个数后的余数）
let &#x22;y=5 % 3&#x22;
echo &#x22;y = $y&#x22;   # y = 2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <table>
        <thead>
          <tr>
            <th>操作符</th>
            <th>描述</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>+=</code></td>
            <td>加等(plus-equal) 把原变量值增加一个常量并重新赋值给变量</td>
          </tr>
          <tr>
            <td><code>-=</code></td>
            <td>减等(minus-equal) 把原变量值减少一个常量并重新赋值给变量</td>
          </tr>
          <tr>
            <td><code>*=</code></td>
            <td>乘等(times-equal) 把原变量值乘上一个常量并重新赋值给变量</td>
          </tr>
          <tr>
            <td><code>/=</code></td>
            <td>除等(slash-equal) 把原变量值除以一个常量并重新赋值给变量</td>
          </tr>
          <tr>
            <td><code>%=</code></td>
            <td>模等(mod-equal) 把原变量值除以一个常量整除（即取模）并重新赋余数的值给变量</td>
          </tr>
        </tbody>
      </table>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">let</span> <span class="token string">"var += 5"</span> <span class="token comment"># 会使变量var值加了5并把值赋给var.</span>
<span class="token builtin class-name">let</span> <span class="token string">"var *= 4"</span> <span class="token comment"># 使变量var的值乘上4并把值赋给var.</span>
</code><div onclick="copied(this)" data-code="let &#x22;var += 5&#x22; # 会使变量var值加了5并把值赋给var.
let &#x22;var *= 4&#x22; # 使变量var的值乘上4并把值赋给var.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>例子：</p>
      <ul>
        <li><a href="./example/demo8">用10种不同的方法计数到11</a></li>
        <li><a href="./example/demo8">最大公约数</a></li>
        <li><a href="./example/demo9">整数变量符号的长整数测试</a>，到2.05b版本为止，Bash支持64位的整数，以前的版本会有长度溢出错误。</li>
        <li><a href="./example/demo10">Bash不能处理浮点计算,它会把含有小数点的数当成字符串。</a></li>
      </ul>
      <h3 id="位操作符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#位操作符"><span class="octicon octicon-link"></span></a>位操作符</h3>
      <p>位操作符很少在脚本中使用。他们主要用于操作和测试从端口或sockets中读到的数据。“位运算”更多地用于编译型的语言，比如说C和C++，它们运行起来快地像飞。</p>
      <table>
        <thead>
          <tr>
            <th>操作符</th>
            <th>描述</th>
            <th>操作符</th>
            <th>描述</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>&#x3C;&#x3C;</code></td>
            <td>位左移（每移一位相当乘以2）</td>
            <td>`</td>
            <td>`</td>
          </tr>
          <tr>
            <td><code>&#x3C;&#x3C;=</code></td>
            <td>位左移赋值</td>
            <td>`</td>
            <td>=`</td>
          </tr>
          <tr>
            <td><code>>></code></td>
            <td>位右移（每移一位相当除以2）</td>
            <td><code>~</code></td>
            <td>位反</td>
          </tr>
          <tr>
            <td><code>>>=</code></td>
            <td>"位右移赋值"（和&#x3C;&#x3C;=相反）</td>
            <td><code>!</code></td>
            <td>位非</td>
          </tr>
          <tr>
            <td><code>&#x26;</code></td>
            <td>位与</td>
            <td><code>^</code></td>
            <td>位或</td>
          </tr>
          <tr>
            <td><code>&#x26;=</code></td>
            <td>位于赋值</td>
            <td><code>^=</code></td>
            <td>位或赋值</td>
          </tr>
        </tbody>
      </table>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># &#x3C;&#x3C;=</span>
<span class="token comment"># "位左移赋值"</span>
<span class="token builtin class-name">let</span> <span class="token string">"var &#x3C;&#x3C;= 2"</span> 结果使var的二进制值左移了二位（相当于乘以4）
</code><div onclick="copied(this)" data-code="# <<=
# &#x22;位左移赋值&#x22;
let &#x22;var <<= 2&#x22; 结果使var的二进制值左移了二位（相当于乘以4）
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="逻辑操作符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#逻辑操作符"><span class="octicon octicon-link"></span></a>逻辑操作符</h3>
      <p>逻辑与<code>&#x26;&#x26;</code></p>
      <pre class="language-shell"><code class="language-shell"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$condition1</span> <span class="token punctuation">]</span> <span class="token operator">&#x26;&#x26;</span> <span class="token punctuation">[</span> <span class="token variable">$condition2</span> <span class="token punctuation">]</span>
<span class="token comment"># 等同于:  if [ $condition1 -a $condition2 ]</span>
<span class="token comment"># 如果condition1和condition2都为真则返回真...</span>
<span class="token keyword">fi</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$condition1</span> <span class="token operator">&#x26;&#x26;</span> <span class="token variable">$condition2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>    <span class="token comment"># Also works.</span>
<span class="token comment"># 注意&#x26;&#x26;操作不能在[ ... ]结构中使用.</span>
<span class="token keyword">fi</span><span class="token punctuation">;</span>
</code><div onclick="copied(this)" data-code="if [ $condition1 ] &#x26;&#x26; [ $condition2 ]
# 等同于:  if [ $condition1 -a $condition2 ]
# 如果condition1和condition2都为真则返回真...
fi;

if [[ $condition1 &#x26;&#x26; $condition2 ]]    # Also works.
# 注意&#x26;&#x26;操作不能在[ ... ]结构中使用.
fi;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>逻辑或<code>||</code></p>
      <pre class="language-shell"><code class="language-shell"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$condition1</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token variable">$condition2</span> <span class="token punctuation">]</span>
<span class="token comment"># 等同于:  if [ $condition1 -o $condition2 ]</span>
<span class="token comment"># 如果condition1和condition2有一个为真则返回真...</span>
<span class="token keyword">fi</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$condition1</span> <span class="token operator">||</span> <span class="token variable">$condition2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>    <span class="token comment"># Also works.</span>
<span class="token comment"># 注意||操作不能在[ ... ]结构中使用.</span>
<span class="token keyword">fi</span><span class="token punctuation">;</span>
</code><div onclick="copied(this)" data-code="if [ $condition1 ] || [ $condition2 ]
# 等同于:  if [ $condition1 -o $condition2 ]
# 如果condition1和condition2有一个为真则返回真...
fi;
if [[ $condition1 || $condition2 ]]    # Also works.
# 注意||操作不能在[ ... ]结构中使用.
fi;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>使用&#x26;&#x26;和||进行混合条件测试<a href="./example/demo11">demo11</a>。在算术计算的环境中，&#x26;&#x26;和||操作符也可以使用。</p>
      <pre><code>bash$ echo $(( 1 &#x26;&#x26; 2 )) $((3 &#x26;&#x26; 0)) $((4 || 0)) $((0 || 0))
 1 0 1 0
</code><div onclick="copied(this)" data-code="bash$ echo $(( 1 &#x26;&#x26; 2 )) $((3 &#x26;&#x26; 0)) $((4 || 0)) $((0 || 0))
 1 0 1 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="逗号操作符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#逗号操作符"><span class="octicon octicon-link"></span></a>逗号操作符</h3>
      <p>逗号<code>,</code>操作符连接两个或更多的算术操作。所有的操作都被求值(可能会有副作用)，但只返回最后一个操作的结构。<a href="./example/demo5">demo5</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">let</span> <span class="token string">"t1 = <span class="token variable"><span class="token punctuation">((</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">15</span> <span class="token operator">-</span> <span class="token number">4</span><span class="token punctuation">))</span></span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"t1 = <span class="token variable">$t1</span>"</span>               <span class="token comment"># t1 = 11</span>

<span class="token builtin class-name">let</span> <span class="token string">"t2 = <span class="token variable"><span class="token punctuation">((</span>a <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">15</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">))</span></span>"</span>  <span class="token comment"># 初始化"a"并求"t2"的值.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"t2 = <span class="token variable">$t2</span>    a = <span class="token variable">$a</span>"</span>     <span class="token comment"># t2 = 5    a = 9</span>
</code><div onclick="copied(this)" data-code="let &#x22;t1 = ((5 + 3, 7 - 1, 15 - 4))&#x22;
echo &#x22;t1 = $t1&#x22;               # t1 = 11

let &#x22;t2 = ((a = 9, 15 / 3))&#x22;  # 初始化&#x22;a&#x22;并求&#x22;t2&#x22;的值.
echo &#x22;t2 = $t2    a = $a&#x22;     # t2 = 5    a = 9
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h2 id="变量"><a class="anchor" aria-hidden="true" tabindex="-1" href="#变量"><span class="octicon octicon-link"></span></a>变量</h2>
      <p>变量，是脚本编程中的如何进行数据表现的办法。它们可以在算术计算中作为操作数，在一个字符串表达式中作为符号表达抽象的意义或是其他的其它意义。变量是表示计算机内存中保存一种数据需要占的一个位置或一组的位置的标识。</p>
      <h3 id="变量值"><a class="anchor" aria-hidden="true" tabindex="-1" href="#变量值"><span class="octicon octicon-link"></span></a>变量值</h3>
      <p>如果variable1是一个变量的名字，那么$variable1就是引用这个变量的值――即这个变量它包含的数据。<a href="./example/demo12">变量赋值与替换例子</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">t1</span><span class="token operator">=</span><span class="token number">12</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$t1</span>
</code><div onclick="copied(this)" data-code="t1=12
echo $t1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>一个未初始化的变量有一个”null”值――表示从没有被赋值过（注意null值不等于零）。在一个变量从未赋值之前就使用它通常会引起问题。然而，仍然有可能在执行算术计算时使用一个未初始化的变量。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$uninitialized</span>"</span>      <span class="token comment"># (blank line)</span>
<span class="token builtin class-name">let</span> <span class="token string">"uninitialized += 5"</span>   <span class="token comment"># Add 5 to it.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$uninitialized</span>"</span>      <span class="token comment"># 5</span>

<span class="token comment">#  结论:</span>
<span class="token comment">#  一个未初始化的变量没有值，</span>
<span class="token comment">#+ 但是似乎它在算术计算中的值是零。</span>
<span class="token comment">#  这个无法证实（也可能是不可移植）的行为。</span>
</code><div onclick="copied(this)" data-code="echo &#x22;$uninitialized&#x22;      # (blank line)
let &#x22;uninitialized += 5&#x22;   # Add 5 to it.
echo &#x22;$uninitialized&#x22;      # 5

#  结论:
#  一个未初始化的变量没有值，
#+ 但是似乎它在算术计算中的值是零。
#  这个无法证实（也可能是不可移植）的行为。
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="定义变量"><a class="anchor" aria-hidden="true" tabindex="-1" href="#定义变量"><span class="octicon octicon-link"></span></a>定义变量</h3>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># 变量名不加美元符号</span>
<span class="token assign-left variable">your_var</span><span class="token operator">=</span><span class="token string">"elaine"</span>
<span class="token comment"># 重新定义</span>
<span class="token assign-left variable">your_var</span><span class="token operator">=</span><span class="token string">"newname"</span>
</code><div onclick="copied(this)" data-code="# 变量名不加美元符号
your_var=&#x22;elaine&#x22;
# 重新定义
your_var=&#x22;newname&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>注意⚠️</strong></p>
      <ol>
        <li>首个字符必须为字母（a-z，A-Z）。</li>
        <li>中间不能有空格，可以使用下划线（_），等号左右也不能有空格。</li>
        <li>不能使用标点符号。</li>
        <li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li>
      </ol>
      <h3 id="只读变量"><a class="anchor" aria-hidden="true" tabindex="-1" href="#只读变量"><span class="octicon octicon-link"></span></a>只读变量</h3>
      <pre class="language-shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">github</span><span class="token operator">=</span><span class="token string">"https://jaywcjlove.github.io"</span>
<span class="token builtin class-name">readonly</span> github
<span class="token assign-left variable">github</span><span class="token operator">=</span><span class="token string">"https://www.github.com"</span>

<span class="token comment"># 运行脚本，结果如下：</span>
/bin/sh: NAME: This variable is <span class="token builtin class-name">read</span> only.
</code><div onclick="copied(this)" data-code="#!/bin/bash
github=&#x22;https://jaywcjlove.github.io&#x22;
readonly github
github=&#x22;https://www.github.com&#x22;

# 运行脚本，结果如下：
/bin/sh: NAME: This variable is read only.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="使用变量"><a class="anchor" aria-hidden="true" tabindex="-1" href="#使用变量"><span class="octicon octicon-link"></span></a>使用变量</h3>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">your_var</span><span class="token operator">=</span><span class="token string">"github"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_var</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${your_var}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"your name is <span class="token variable">${your_var}</span>-l"</span>
</code><div onclick="copied(this)" data-code="your_var=&#x22;github&#x22;
echo $your_var
echo ${your_var}
echo &#x22;your name is ${your_var}-l&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="删除变量unset"><a class="anchor" aria-hidden="true" tabindex="-1" href="#删除变量unset"><span class="octicon octicon-link"></span></a>删除变量unset</h3>
      <p>变量被删除后不能再次使用。unset 命令不能删除只读变量。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">"https://jaywcjlove.github.io"</span>
<span class="token builtin class-name">unset</span> myUrl
<span class="token builtin class-name">echo</span> <span class="token variable">$myUrl</span>
</code><div onclick="copied(this)" data-code="myUrl=&#x22;https://jaywcjlove.github.io&#x22;
unset myUrl
echo $myUrl
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="变量类型"><a class="anchor" aria-hidden="true" tabindex="-1" href="#变量类型"><span class="octicon octicon-link"></span></a>变量类型</h3>
      <p>不同与许多其他的编程语言，Bash不以"类型"来区分变量。本质上来说，Bash变量是字符串，但是根据环境的不同，Bash允许变量有整数计算和比较。其中的决定因素是变量的值是不是只含有数字。</p>
      <ol>
        <li><strong>局部变量</strong> 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</li>
        <li><strong>环境变量</strong> 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</li>
        <li><strong>shell变量</strong> shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</li>
      </ol>
      <h3 id="内部变量"><a class="anchor" aria-hidden="true" tabindex="-1" href="#内部变量"><span class="octicon octicon-link"></span></a>内部变量</h3>
      <table>
        <thead>
          <tr>
            <th>内部变量</th>
            <th>说明</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>$BASH</td>
            <td>Bash二进制程序文件的路径</td>
          </tr>
          <tr>
            <td>$BASH_ENV</td>
            <td>该环境变量保存一个Bash启动文件路径，当启动一个脚本程序时会去读该环境变量指定的文件。</td>
          </tr>
          <tr>
            <td>$BASH_SUBSHELL</td>
            <td>一个指示子shell(subshell)等级的变量。它是Bash版本3新加入的。</td>
          </tr>
          <tr>
            <td>$BASH_VERSINFO[n]</td>
            <td>这个数组含有6个元素，指示了安装的Bash版本的信息。它和$BASH_VERSION相似，但它们还是有一些小小的不同。</td>
          </tr>
          <tr>
            <td>$BASH_VERSION</td>
            <td>安装在系统里的Bash版本。</td>
          </tr>
          <tr>
            <td>$DIRSTACK</td>
            <td>在目录堆栈里面最顶端的值(它受pushd和popd的控制)</td>
          </tr>
          <tr>
            <td>$EDITOR</td>
            <td>由脚本调用的默认的编辑器，一般是vi或是emacs。</td>
          </tr>
          <tr>
            <td>$EUID</td>
            <td>有效用户ID</td>
          </tr>
          <tr>
            <td>$FUNCNAME</td>
            <td>当前函数的名字</td>
          </tr>
          <tr>
            <td>$GLOBIGNORE</td>
            <td>由通配符(globbing)扩展的一列文件名模式。</td>
          </tr>
          <tr>
            <td>$GROUPS</td>
            <td>目前用户所属的组</td>
          </tr>
          <tr>
            <td>$HOME</td>
            <td>用户的家目录，通常是/home/username</td>
          </tr>
          <tr>
            <td>$HOSTNAME</td>
            <td>在系统启动时由一个初始化脚本中用hostname命令给系统指派一个名字。然而，gethostname()函数能设置Bash内部变量E$HOSTNAME。</td>
          </tr>
          <tr>
            <td>$HOSTTYPE</td>
            <td>机器类型，像$MACHTYPE一样标识系统硬件。</td>
          </tr>
          <tr>
            <td>$IFS</td>
            <td>内部字段分隔符</td>
          </tr>
          <tr>
            <td>$IGNOREEOF</td>
            <td>忽略EOF：在退出控制台前有多少文件结尾标识（end-of-files,control-D）会被shell忽略。</td>
          </tr>
          <tr>
            <td>$LC_COLLATE</td>
            <td>它常常在.bashrc或/etc/profile文件里被设置，它控制文件名扩展和模式匹配的展开顺序。</td>
          </tr>
          <tr>
            <td>$LINENO</td>
            <td>这个变量表示在本shell脚本中该变量出现时所在的行数。它只在脚本中它出现时有意义，它一般可用于调试。</td>
          </tr>
          <tr>
            <td>$MACHTYPE</td>
            <td>机器类型，识别系统的硬件类型。</td>
          </tr>
          <tr>
            <td>$OLDPWD</td>
            <td>上一次工作的目录("OLD-print-working-directory",你上一次进入工作的目录)</td>
          </tr>
          <tr>
            <td>$TZ</td>
            <td>时区</td>
          </tr>
          <tr>
            <td>$MAILCHECK</td>
            <td>每隔多少秒检查是否有新的信件</td>
          </tr>
          <tr>
            <td>$OSTYPE</td>
            <td>操作系统类型</td>
          </tr>
          <tr>
            <td>$MANPATH man</td>
            <td>指令的搜寻路径</td>
          </tr>
          <tr>
            <td>$PATH</td>
            <td>可执行程序文件的搜索路径。一般有/usr/bin/, /usr/X11R6/bin/, /usr/local/bin,等等。</td>
          </tr>
          <tr>
            <td>$PIPESTATUS</td>
            <td>此数组变量保存了最后执行的前台管道的退出状态。相当有趣的是，它不一定和最后执行的命令的退出状态一样。</td>
          </tr>
          <tr>
            <td>$PPID</td>
            <td>一个进程的$PPID变量保存它的父进程的进程ID(pid)。用这个变量和pidof命令比较。</td>
          </tr>
          <tr>
            <td>$PROMPT_COMMAND</td>
            <td>这个变量在主提示符前($PS1显示之前)执行它的值里保存的命令。</td>
          </tr>
          <tr>
            <td>$PS1</td>
            <td>这是主提示符（第一提示符），它能在命令行上看见。</td>
          </tr>
          <tr>
            <td>$PS2</td>
            <td>副提示符（第二提示符），它在期望有附加的输入时能看见。它显示像">"的提示。</td>
          </tr>
          <tr>
            <td>$PS3</td>
            <td>第三提示符。它在一个select循环里显示 (参考例子 10-29)。</td>
          </tr>
          <tr>
            <td>$PS4</td>
            <td>第四提示符，它在用-x选项调用一个脚本时的输出的每一行开头显示。它通常显示像"+"的提示。</td>
          </tr>
          <tr>
            <td>$PWD</td>
            <td>工作目录(即你现在所处的目录) ，它类似于内建命令pwd。</td>
          </tr>
          <tr>
            <td>$REPLY</td>
            <td>没有变量提供给read命令时的默认变量．这也适用于select命令的目录，但只是提供被选择的变量项目编号而不是变量本身的值。</td>
          </tr>
          <tr>
            <td>$SECONDS</td>
            <td>脚本已运行的秒数。</td>
          </tr>
          <tr>
            <td>$SHELLOPTS</td>
            <td>已经激活的shell选项列表，它是一个只读变量。</td>
          </tr>
          <tr>
            <td>$SHLVL</td>
            <td>SHELL的嵌套级别．指示了Bash被嵌套了多深．在命令行里，$SHLVL是1，因此在一个脚本里，它是2</td>
          </tr>
          <tr>
            <td>$TMOUT</td>
            <td>如果$TMOUT环境变量被设为非零值时间值time，那么经过time这么长的时间后，shell提示符会超时．这将使此shell退出登录</td>
          </tr>
          <tr>
            <td>$UID</td>
            <td>用户ID号，这是当前用户的用户标识号，它在/etc/passwd文件中记录。</td>
          </tr>
        </tbody>
      </table>
      <h3 id="位置参数"><a class="anchor" aria-hidden="true" tabindex="-1" href="#位置参数"><span class="octicon octicon-link"></span></a>位置参数</h3>
      <table>
        <thead>
          <tr>
            <th>参数处理</th>
            <th>说明</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>$#</code></td>
            <td>传递到脚本的参数个数</td>
          </tr>
          <tr>
            <td><code>$*</code></td>
            <td>以一个单字符串显示所有向脚本传递的参数。如"∗"用「"」括起来的情况、以"1 2…n"的形式输出所有参数。</td>
          </tr>
          <tr>
            <td><code>$$</code></td>
            <td>脚本运行的当前进程ID号</td>
          </tr>
          <tr>
            <td><code>$!</code></td>
            <td>后台运行的最后一个进程的ID号</td>
          </tr>
          <tr>
            <td><code>$@</code></td>
            <td>与∗相同，但是使用时加引号，并在引号中返回每个参数。如"@"用「"」括起来的情况、以"1""2" … "$n" 的形式输出所有参数。</td>
          </tr>
          <tr>
            <td><code>$-</code></td>
            <td>显示Shell使用的当前选项，与set命令功能相同。</td>
          </tr>
          <tr>
            <td><code>$?</code></td>
            <td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td>
          </tr>
        </tbody>
      </table>
      <h3 id="参数替换"><a class="anchor" aria-hidden="true" tabindex="-1" href="#参数替换"><span class="octicon octicon-link"></span></a>参数替换</h3>
      <p><strong>${parameter}</strong>：和$parameter是相同的，都是表示变量parameter的值，可以把变量和字符串连接。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">your_id</span><span class="token operator">=</span><span class="token variable">${<span class="token environment constant">USER</span>}</span>-on-<span class="token variable">${<span class="token environment constant">HOSTNAME</span>}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$your_id</span>"</span>
<span class="token comment">#</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Old \<span class="token environment constant">$PATH</span> = <span class="token environment constant">$PATH</span>"</span>
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">${<span class="token environment constant">PATH</span>}</span>:/opt/bin  <span class="token comment">#在脚本的生存期内，能额外增加路径/opt/bin到环境变量$PATH中去.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"New \<span class="token environment constant">$PATH</span> = <span class="token environment constant">$PATH</span>"</span>
</code><div onclick="copied(this)" data-code="your_id=${USER}-on-${HOSTNAME}
echo &#x22;$your_id&#x22;
#
echo &#x22;Old \$PATH = $PATH&#x22;
PATH=${PATH}:/opt/bin  #在脚本的生存期内，能额外增加路径/opt/bin到环境变量$PATH中去.
echo &#x22;New \$PATH = $PATH&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>${parameter-default}, ${parameter:-default}</strong>：如果变量没有被设置，使用默认值。<code>${parameter-default}</code>和<code>${parameter:-default}</code>几乎是相等的。它们之间的差别是：当一个参数已被声明，但是值是NULL的时候两者不同。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> <span class="token variable">${username-`whoami`}</span>
<span class="token comment"># 如果变量$username还没有被设置，则把命令`whoami`的结果赋给该变量</span>
</code><div onclick="copied(this)" data-code="echo ${username-&#x60;whoami&#x60;}
# 如果变量$username还没有被设置，则把命令&#x60;whoami&#x60;的结果赋给该变量
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>${parameter=default}, ${parameter:=default}</strong>：如果变量parameter没有设置，把它设置成默认值。除了引起的当变量被声明且值是空值时有些不同外，两种形式几乎相等。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> <span class="token string">"===== \<span class="token variable">${parameter+alt_value}</span> ====="</span>
<span class="token builtin class-name">echo</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable">${param1+xyz}</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>      <span class="token comment"># a =</span>

<span class="token assign-left variable">param2</span><span class="token operator">=</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable">${param2+xyz}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>      <span class="token comment"># a = xyz</span>

<span class="token assign-left variable">param3</span><span class="token operator">=</span><span class="token number">123</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable">${param3+xyz}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>      <span class="token comment"># a = xyz</span>

<span class="token builtin class-name">echo</span>
<span class="token builtin class-name">echo</span> <span class="token string">"====== \<span class="token variable">${parameter<span class="token operator">:+</span>alt_value}</span> ======"</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable">${param4<span class="token operator">:+</span>xyz}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>      <span class="token comment"># a =</span>

<span class="token assign-left variable">param5</span><span class="token operator">=</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable">${param5<span class="token operator">:+</span>xyz}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>      <span class="token comment"># a =</span>
<span class="token comment"># 产生与a=${param5+xyz}不同。</span>

<span class="token assign-left variable">param6</span><span class="token operator">=</span><span class="token number">123</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable">${param6+xyz}</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>      <span class="token comment"># a = xyz</span>
</code><div onclick="copied(this)" data-code="echo &#x22;===== \${parameter+alt_value} =====&#x22;
echo

a=${param1+xyz}; echo &#x22;a = $a&#x22;      # a =

param2=
a=${param2+xyz}
echo &#x22;a = $a&#x22;      # a = xyz

param3=123
a=${param3+xyz}
echo &#x22;a = $a&#x22;      # a = xyz

echo
echo &#x22;====== \${parameter:+alt_value} ======&#x22;
a=${param4:+xyz}
echo &#x22;a = $a&#x22;      # a =

param5=
a=${param5:+xyz}
echo &#x22;a = $a&#x22;      # a =
# 产生与a=${param5+xyz}不同。

param6=123
a=${param6+xyz}
echo &#x22;a = $a&#x22;      # a = xyz
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>${parameter?err_msg}, ${parameter:?err_msg}</strong>：如果变量parameter已经设置，则使用该值，否则打印err_msg错误信息。<a href="./example/demo20">demo20</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 变量替换和"usage"信息</span>

<span class="token builtin class-name">:</span> <span class="token variable">${1?"Usage<span class="token operator">:</span> $0 ARGUMENT"}</span>
<span class="token comment">#  如果没有提供命令行参数则脚本在这儿就退出了,</span>
<span class="token comment">#+ 并打印了错误信息.</span>
<span class="token comment">#    usage-message.sh: 1: Usage: usage-message.sh ARGUMENT</span>

<span class="token builtin class-name">echo</span> <span class="token string">"These two lines echo only if command-line parameter given."</span>
<span class="token builtin class-name">echo</span> <span class="token string">"command line parameter = <span class="token entity" title="\&#x22;">\"</span><span class="token variable">$1</span><span class="token entity" title="\&#x22;">\"</span>"</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>  <span class="token comment"># 仅在命令行参数提供时，才会在这儿退出.</span>

<span class="token comment"># 分别检查有命令行参数和没有命令行参数时的退出状态。</span>
<span class="token comment"># 如果有命令行参数,则"$?"为0.</span>
<span class="token comment"># 否则, "$?"为1.</span>
</code><div onclick="copied(this)" data-code="#!/bin/bash
# 变量替换和&#x22;usage&#x22;信息

: ${1?&#x22;Usage: $0 ARGUMENT&#x22;}
#  如果没有提供命令行参数则脚本在这儿就退出了,
#+ 并打印了错误信息.
#    usage-message.sh: 1: Usage: usage-message.sh ARGUMENT

echo &#x22;These two lines echo only if command-line parameter given.&#x22;
echo &#x22;command line parameter = \&#x22;$1\&#x22;&#x22;

exit 0  # 仅在命令行参数提供时，才会在这儿退出.

# 分别检查有命令行参数和没有命令行参数时的退出状态。
# 如果有命令行参数,则&#x22;$?&#x22;为0.
# 否则, &#x22;$?&#x22;为1.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>${#var}</strong>：字符串长度（即变量$var的字符个数）。对于数组来说，${#array}是数组的第一个元素的升序。<code>${#*}和${#@}</code> 表示位置参数的个数。对于一个数组来说，<code>${#array[*]}</code>和<code>${#array[@]}</code>表示数组中元素的个数。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">E_NO_ARGS</span><span class="token operator">=</span><span class="token number">65</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span>  <span class="token comment"># 必须要有命令行参数给这个演示程序.</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"Please invoke this script with one or more command-line arguments."</span>
  <span class="token builtin class-name">exit</span> <span class="token variable">$E_NO_ARGS</span>
<span class="token keyword">fi</span>  

<span class="token assign-left variable">var01</span><span class="token operator">=</span>abcdEFGH28ij
<span class="token builtin class-name">echo</span> <span class="token string">"var01 = <span class="token variable">${var01}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Length of var01 = <span class="token variable">${<span class="token operator">#</span>var01}</span>"</span>
<span class="token comment"># 现在,让我们在变量值内嵌入一个空格.</span>
<span class="token assign-left variable">var02</span><span class="token operator">=</span><span class="token string">"abcd EFGH28ij"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"var02 = <span class="token variable">${var02}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Length of var02 = <span class="token variable">${<span class="token operator">#</span>var02}</span>"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"Number of command-line arguments passed to script = <span class="token variable">${<span class="token operator">#</span>@}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Number of command-line arguments passed to script = <span class="token variable">${<span class="token operator">#</span>*}</span>"</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="E_NO_ARGS=65

if [ $# -eq 0 ]  # 必须要有命令行参数给这个演示程序.
then
  echo &#x22;Please invoke this script with one or more command-line arguments.&#x22;
  exit $E_NO_ARGS
fi  

var01=abcdEFGH28ij
echo &#x22;var01 = ${var01}&#x22;
echo &#x22;Length of var01 = ${#var01}&#x22;
# 现在,让我们在变量值内嵌入一个空格.
var02=&#x22;abcd EFGH28ij&#x22;
echo &#x22;var02 = ${var02}&#x22;
echo &#x22;Length of var02 = ${#var02}&#x22;

echo &#x22;Number of command-line arguments passed to script = ${#@}&#x22;
echo &#x22;Number of command-line arguments passed to script = ${#*}&#x22;

exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>${var#Pattern}, ${var##Pattern}</strong>：删除从$var前端开始的最短或最长匹配$Pattern的字符串。<a href="./example/demo22">demo22</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> <span class="token environment constant">$PWD</span><span class="token variable">`</span></span>        <span class="token comment"># 当前工作目录的基本名字.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">${<span class="token environment constant">PWD</span><span class="token operator">##</span>*<span class="token operator">/</span>}</span>"</span>           <span class="token comment"># 当前工作目录的基本名字.</span>
<span class="token builtin class-name">echo</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $0<span class="token variable">`</span></span>          <span class="token comment"># 脚本名.</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$0</span>                     <span class="token comment"># 脚本名.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">${0<span class="token operator">##</span>*<span class="token operator">/</span>}</span>"</span>             <span class="token comment"># 脚本名.</span>
<span class="token builtin class-name">echo</span>
<span class="token assign-left variable">filename</span><span class="token operator">=</span>test.data
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">${filename<span class="token operator">##</span>*.}</span>"</span>      <span class="token comment"># data</span>
                            <span class="token comment"># 文件的扩展名.</span>
</code><div onclick="copied(this)" data-code="echo &#x60;basename $PWD&#x60;        # 当前工作目录的基本名字.
echo &#x22;${PWD##*/}&#x22;           # 当前工作目录的基本名字.
echo
echo &#x60;basename $0&#x60;          # 脚本名.
echo $0                     # 脚本名.
echo &#x22;${0##*/}&#x22;             # 脚本名.
echo
filename=test.data
echo &#x22;${filename##*.}&#x22;      # data
                            # 文件的扩展名.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="declaretypeset"><a class="anchor" aria-hidden="true" tabindex="-1" href="#declaretypeset"><span class="octicon octicon-link"></span></a>declare/typeset</h3>
      <p>declare或typeset内建命令(它们是完全相同的)可以用来限定变量的属性。这是在某些编程语言中使用的定义类型不严格的方式。</p>
      <ul>
        <li>命令declare是bash版本2之后才有的。</li>
        <li>命令typeset也可以在ksh脚本中运行。</li>
      </ul>
      <p><strong>选项</strong></p>
      <p><a href="./example/demo23">用declare来声明变量类型</a></p>
      <table>
        <thead>
          <tr>
            <th>参数</th>
            <th>说明</th>
            <th>例子</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>-r</code></td>
            <td>只读</td>
            <td><code>declare -r var1</code></td>
          </tr>
          <tr>
            <td><code>-i</code></td>
            <td>整数</td>
            <td><code>declare -i number;number=3;</code></td>
          </tr>
          <tr>
            <td><code>-a</code></td>
            <td>数组</td>
            <td><code>declare -a indices</code></td>
          </tr>
          <tr>
            <td><code>-f</code></td>
            <td>函数</td>
            <td><code>declare -f</code> 会列出所有在此脚本前面已定义的函数</td>
          </tr>
          <tr>
            <td><code>-x export</code></td>
            <td>函这样将声明一个变量作为脚本的环境变量而被导出。</td>
            <td><code>declare -x var3</code></td>
          </tr>
          <tr>
            <td><code>-x var=$value</code></td>
            <td>declare命令允许在声明变量类型的时候同时给变量赋值。</td>
            <td><code>declare -x var3=373</code></td>
          </tr>
        </tbody>
      </table>
      <h3 id="变量间接引用"><a class="anchor" aria-hidden="true" tabindex="-1" href="#变量间接引用"><span class="octicon octicon-link"></span></a>变量间接引用</h3>
      <p>假设一个变量的值是第二个变量的名字。这样要如何才能从第一个变量处重新获得第二个变量的值？例如，<code>a=letter_of_alphabet</code>和<code>letter_of_alphabet=z</code>，是否能由a引用得到z ? 这确实可以办到，这种技术被称为间接引用。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">a</span><span class="token operator">=</span>letter_of_alphabet   <span class="token comment"># 变量"a"保存着另外一个变量的名字.</span>
<span class="token assign-left variable">letter_of_alphabet</span><span class="token operator">=</span>z
<span class="token comment"># 直接引用.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>          <span class="token comment"># a = letter_of_alphabet</span>

<span class="token comment"># 间接引用.</span>
<span class="token builtin class-name">eval</span> <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token punctuation">\</span><span class="token variable">$$</span>a
<span class="token builtin class-name">echo</span> <span class="token string">"Now a = <span class="token variable">$a</span>"</span>      <span class="token comment"># 现在 a = z</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="a=letter_of_alphabet   # 变量&#x22;a&#x22;保存着另外一个变量的名字.
letter_of_alphabet=z
# 直接引用.
echo &#x22;a = $a&#x22;          # a = letter_of_alphabet

# 间接引用.
eval a=\$$a
echo &#x22;Now a = $a&#x22;      # 现在 a = z
exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="random"><a class="anchor" aria-hidden="true" tabindex="-1" href="#random"><span class="octicon octicon-link"></span></a>$RANDOM</h3>
      <p>$RANDOM是Bash的一个返回伪随机整数(范围为0 - 32767)的内部函数(而不是一个常量或变量)，它不应该用于产生加密的密钥。<a href="./example/demo25">demo25</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># 模拟掷骰子.</span>
<span class="token assign-left variable">SPOTS</span><span class="token operator">=</span><span class="token number">6</span>   <span class="token comment"># 模除 6 会产生 0 - 5 之间的值.</span>
          <span class="token comment"># 结果增1会产生 1 - 6 之间的值.</span>
          <span class="token comment"># 多谢Paulo Marcel Coelho Aragao的简化.</span>
<span class="token assign-left variable">die1</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">die2</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token comment"># 这会比仅设置SPOTS=7且不增1好?为什么会好？为什么会不好?</span>

<span class="token comment"># 单独地掷每个骰子，然后计算出正确的机率.</span>

    <span class="token builtin class-name">let</span> <span class="token string">"die1 = <span class="token environment constant">$RANDOM</span> % <span class="token variable">$SPOTS</span> +1"</span> <span class="token comment"># 掷第一个.</span>
    <span class="token builtin class-name">let</span> <span class="token string">"die2 = <span class="token environment constant">$RANDOM</span> % <span class="token variable">$SPOTS</span> +1"</span> <span class="token comment"># 掷第二个.</span>
    <span class="token comment">#  上面的算术式中，哪个操作符优先计算 --</span>
    <span class="token comment">#+ 取模 (%) 还是 加法 (+)?</span>

<span class="token builtin class-name">let</span> <span class="token string">"throw = <span class="token variable">$die1</span> + <span class="token variable">$die2</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Throw of the dice = <span class="token variable">$throw</span>"</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="# 模拟掷骰子.
SPOTS=6   # 模除 6 会产生 0 - 5 之间的值.
          # 结果增1会产生 1 - 6 之间的值.
          # 多谢Paulo Marcel Coelho Aragao的简化.
die1=0
die2=0
# 这会比仅设置SPOTS=7且不增1好?为什么会好？为什么会不好?

# 单独地掷每个骰子，然后计算出正确的机率.

    let &#x22;die1 = $RANDOM % $SPOTS +1&#x22; # 掷第一个.
    let &#x22;die2 = $RANDOM % $SPOTS +1&#x22; # 掷第二个.
    #  上面的算术式中，哪个操作符优先计算 --
    #+ 取模 (%) 还是 加法 (+)?

let &#x22;throw = $die1 + $die2&#x22;
echo &#x22;Throw of the dice = $throw&#x22;

exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="双括号结构"><a class="anchor" aria-hidden="true" tabindex="-1" href="#双括号结构"><span class="octicon octicon-link"></span></a>双括号结构</h3>
      <p>用<code>((...))</code>结构来使用C风格操作符来处理变量。<a href="./example/demo26">demo26</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token variable"><span class="token punctuation">((</span> a <span class="token operator">=</span> <span class="token number">23</span> <span class="token punctuation">))</span></span>  <span class="token comment"># 以C风格来设置一个值，在"="两边可以有空格.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a (initial value) = <span class="token variable">$a</span>"</span>

<span class="token variable"><span class="token punctuation">((</span> a<span class="token operator">++</span> <span class="token punctuation">))</span></span>     <span class="token comment"># C风格的计算后自增.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a (after a++) = <span class="token variable">$a</span>"</span>

<span class="token variable"><span class="token punctuation">((</span> a<span class="token operator">--</span> <span class="token punctuation">))</span></span>     <span class="token comment"># C风格的计算后自减.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a (after a--) = <span class="token variable">$a</span>"</span>


<span class="token variable"><span class="token punctuation">((</span> <span class="token operator">++</span>a <span class="token punctuation">))</span></span>     <span class="token comment"># C风格的计算前自增.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a (after ++a) = <span class="token variable">$a</span>"</span>

<span class="token variable"><span class="token punctuation">((</span> <span class="token operator">--</span>a <span class="token punctuation">))</span></span>     <span class="token comment"># C风格的计算前自减.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a (after --a) = <span class="token variable">$a</span>"</span>
</code><div onclick="copied(this)" data-code="(( a = 23 ))  # 以C风格来设置一个值，在&#x22;=&#x22;两边可以有空格.
echo &#x22;a (initial value) = $a&#x22;

(( a++ ))     # C风格的计算后自增.
echo &#x22;a (after a++) = $a&#x22;

(( a-- ))     # C风格的计算后自减.
echo &#x22;a (after a--) = $a&#x22;


(( ++a ))     # C风格的计算前自增.
echo &#x22;a (after ++a) = $a&#x22;

(( --a ))     # C风格的计算前自减.
echo &#x22;a (after --a) = $a&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h2 id="转义字符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#转义字符"><span class="octicon octicon-link"></span></a>转义字符</h2>
      <p>在单个字符前面的转义符<code>\</code>告诉shell不必特殊解释这个字符，只把它当成字面上的意思。但在一些命令和软件包里，比如说echo和sed,转义一个字符可能会引起一个相反的效果－－因为它们可能触发那个字符的特殊意思。<a href="./example/demo13">demo13</a></p>
      <p><code>\r</code> 回车<br><code>\n</code> 换行<br><code>\c</code> 不换行<br><code>\t</code> 水平制表符<br><code>\v</code> 垂直制表符<br><code>\a</code> 表示“警告”（蜂鸣或是闪动）<br><code>\\</code> 反斜杠字符<br><code>\0ddd</code> 将自负表示成1到3的八进制数值</p>
      <h2 id="退出退出状态"><a class="anchor" aria-hidden="true" tabindex="-1" href="#退出退出状态"><span class="octicon octicon-link"></span></a>退出/退出状态</h2>
      <p><code>$?</code> 变量用于测试脚本中的命令执行结果非常的有用。<a href="./example/demo14">demo14</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> hello
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>    <span class="token comment"># 因为上一条命令执行成功，打印0。</span>

lskdf      <span class="token comment"># 无效命令。</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>    <span class="token comment"># 因为上面的无效命令执行失败，打印一个非零的值。</span>

<span class="token builtin class-name">exit</span> <span class="token number">113</span>   <span class="token comment"># 返回113状态码给shell。</span>
           <span class="token comment"># 可以运行脚本结束后立即执行命令"echo $?" 检验。</span>

<span class="token comment">#  依照惯例,命令'exit 0'表示执行成功,</span>
<span class="token comment">#+ 当产生一个非零退出值时表示一个错误或是反常的条件。</span>
</code><div onclick="copied(this)" data-code="echo hello
echo $?    # 因为上一条命令执行成功，打印0。

lskdf      # 无效命令。
echo $?    # 因为上面的无效命令执行失败，打印一个非零的值。

exit 113   # 返回113状态码给shell。
           # 可以运行脚本结束后立即执行命令&#x22;echo $?&#x22; 检验。

#  依照惯例,命令&#x27;exit 0&#x27;表示执行成功,
#+ 当产生一个非零退出值时表示一个错误或是反常的条件。
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>下面这些退出状态码，用于保留(reserved meanings) 的含义，不应该在用户脚本使用。</p>
      <table>
        <thead>
          <tr>
            <th>Exit Code Number</th>
            <th>Meaning</th>
            <th>Example</th>
            <th>Comments</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Catchall for general errors</td>
            <td><code>let "var1 = 1/0"</code></td>
            <td>Miscellaneous errors, such as "divide by zero"</td>
          </tr>
          <tr>
            <td>2</td>
            <td>Misuse of shell builtins (according to Bash documentation)</td>
            <td>-</td>
            <td>Seldom seen, usually defaults to exit code 1</td>
          </tr>
          <tr>
            <td>126</td>
            <td>Command invoked cannot execute</td>
            <td>-</td>
            <td>Permission problem or command is not an executable</td>
          </tr>
          <tr>
            <td>127</td>
            <td>"command not found"</td>
            <td>-</td>
            <td>Possible problem with $PATH or a typo</td>
          </tr>
          <tr>
            <td>128</td>
            <td>Invalid argument to exit</td>
            <td><code>exit 3.14159</code></td>
            <td>exit takes only integer args in the range 0 - 255 (see footnote)</td>
          </tr>
          <tr>
            <td>128+n</td>
            <td>Fatal error signal "n"</td>
            <td><code>kill -9 $PPID</code></td>
            <td>of script $? returns 137 (128 + 9)</td>
          </tr>
          <tr>
            <td>130</td>
            <td>Script terminated by Control-C</td>
            <td>-</td>
            <td>Control-C is fatal error signal 2, (130 = 128 + 2, see above)</td>
          </tr>
          <tr>
            <td>255*</td>
            <td>Exit status out of range</td>
            <td><code>exit -1</code></td>
            <td>exit takes only integer args in the range 0 - 255</td>
          </tr>
        </tbody>
      </table>
      <h2 id="测试"><a class="anchor" aria-hidden="true" tabindex="-1" href="#测试"><span class="octicon octicon-link"></span></a>测试</h2>
      <h3 id="测试结构"><a class="anchor" aria-hidden="true" tabindex="-1" href="#测试结构"><span class="octicon octicon-link"></span></a>测试结构</h3>
      <p>一个if/then结构能包含嵌套的比较和测试。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">echo</span> <span class="token string">"Testing <span class="token entity" title="\&#x22;">\"</span>false<span class="token entity" title="\&#x22;">\"</span>"</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"false"</span> <span class="token punctuation">]</span>              <span class="token comment">#  "false"是一个字符串.</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&#x22;">\"</span>false<span class="token entity" title="\&#x22;">\"</span> is true."</span> <span class="token comment">#+ 它被测试为真.</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&#x22;">\"</span>false<span class="token entity" title="\&#x22;">\"</span> is false."</span>
<span class="token keyword">fi</span>            <span class="token comment"># "false"为真.</span>
</code><div onclick="copied(this)" data-code="echo &#x22;Testing \&#x22;false\&#x22;&#x22;
if [ &#x22;false&#x22; ]              #  &#x22;false&#x22;是一个字符串.
then
  echo &#x22;\&#x22;false\&#x22; is true.&#x22; #+ 它被测试为真.
else
  echo &#x22;\&#x22;false\&#x22; is false.&#x22;
fi            # &#x22;false&#x22;为真.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>Else if 和 elif</p>
      <p>elif是else if的缩写。作用是在一个if/then里嵌入一个内部的if/then结构。</p>
      <p><code>[[]]</code>结构比Bash版本的<code>[]</code>更通用。用<code>[[ ... ]]</code>测试结构比用<code>[ ... ]</code>更能防止脚本里的许多逻辑错误。比如说，<code>&#x26;&#x26;</code>,<code>||</code>,<code>&#x3C;</code>和<code>></code>操作符能在一个<code>[[]]</code>测试里通过，但在<code>[]</code>结构会发生错误。</p>
      <p><code>(( ))</code>结构扩展并计算一个算术表达式的值。如果表达式值为0，会返回1或假作为退出状态码。一个非零值的表达式返回一个0或真作为退出状态码。这个结构和先前test命令及<code>[]</code>结构的讨论刚好相反。</p>
      <h3 id="文件测试操作符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#文件测试操作符"><span class="octicon octicon-link"></span></a>文件测试操作符</h3>
      <p>如果下面的条件成立返回真。<a href="./example/demo15">demo15</a></p>
      <table>
        <thead>
          <tr>
            <th>操作符</th>
            <th>描述</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>-e</td>
            <td>文件存在</td>
          </tr>
          <tr>
            <td>-a</td>
            <td>文件存在，这个和-e的作用一样. 它是不赞成使用的，所以它的用处不大。</td>
          </tr>
          <tr>
            <td>-f</td>
            <td>文件是一个普通文件(不是一个目录或是一个设备文件)</td>
          </tr>
          <tr>
            <td>-s</td>
            <td>文件大小不为零</td>
          </tr>
          <tr>
            <td>-d</td>
            <td>文件是一个目录</td>
          </tr>
          <tr>
            <td>-b</td>
            <td>文件是一个块设备(软盘，光驱，等等。)</td>
          </tr>
          <tr>
            <td>-c</td>
            <td>文件是一个字符设备(键盘，调制解调器，声卡，等等。)</td>
          </tr>
          <tr>
            <td>-p</td>
            <td>文件是一个管道</td>
          </tr>
          <tr>
            <td>-h</td>
            <td>文件是一个符号链接</td>
          </tr>
          <tr>
            <td>-L</td>
            <td>文件是一个符号链接</td>
          </tr>
          <tr>
            <td>-S</td>
            <td>文件是一个socket</td>
          </tr>
          <tr>
            <td>-t</td>
            <td>文件(描述符)与一个终端设备相关。</td>
          </tr>
          <tr>
            <td>-r</td>
            <td>文件是否可读 (指运行这个测试命令的用户的读权限)</td>
          </tr>
          <tr>
            <td>-w</td>
            <td>文件是否可写 (指运行这个测试命令的用户的读权限)</td>
          </tr>
          <tr>
            <td>-x</td>
            <td>文件是否可执行 (指运行这个测试命令的用户的读权限)</td>
          </tr>
          <tr>
            <td>-g</td>
            <td>文件或目录的设置-组-ID(sgid)标记被设置。</td>
          </tr>
          <tr>
            <td>-u</td>
            <td>文件的设置-用户-ID(suid)标志被设置</td>
          </tr>
          <tr>
            <td>-k</td>
            <td>粘住位设置</td>
          </tr>
          <tr>
            <td>-N</td>
            <td>文件最后一次读后被修改</td>
          </tr>
          <tr>
            <td>f1 -nt f2</td>
            <td>文件f1比f2新</td>
          </tr>
          <tr>
            <td>f1 -ot f2</td>
            <td>文件f1比f2旧</td>
          </tr>
          <tr>
            <td>f1 -ef f2</td>
            <td>文件f1和f2 是相同文件的硬链接</td>
          </tr>
          <tr>
            <td>!</td>
            <td>"非" -- 反转上面所有测试的结果(如果没有给出条件则返回真)。</td>
          </tr>
        </tbody>
      </table>
      <p><strong>注意⚠️</strong></p>
      <ol>
        <li><code>-t</code> 这个测试选项可以用于检查脚本中是否标准输入 ([ -t 0 ])或标准输出([ -t 1 ])是一个终端。</li>
        <li><code>-g</code> 如果一个目录的sgid标志被设置，在这个目录下创建的文件都属于拥有此目录的用户组，而不必是创建文件的用户所属的组。这个特性对在一个工作组里的同享目录很有用处。</li>
      </ol>
      <h3 id="比较操作符"><a class="anchor" aria-hidden="true" tabindex="-1" href="#比较操作符"><span class="octicon octicon-link"></span></a>比较操作符</h3>
      <p>二元比较操作符比较两个变量或是数值。注意整数和字符串比较的分别。</p>
      <p><strong>整数比较</strong></p>
      <p><a href="./example/demo16">demo16</a></p>
      <table>
        <thead>
          <tr>
            <th>比较操作符</th>
            <th>描述</th>
            <th>例子</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>-eq</code></td>
            <td>等于</td>
            <td><code>if [ "$a" -eq "$b" ]</code></td>
          </tr>
          <tr>
            <td><code>-ne</code></td>
            <td>不等于</td>
            <td><code>if [ "$a" -ne "$b" ]</code></td>
          </tr>
          <tr>
            <td><code>-gt</code></td>
            <td>大于</td>
            <td><code>if [ "$a" -gt "$b" ]</code></td>
          </tr>
          <tr>
            <td><code>-ge</code></td>
            <td>大于等于</td>
            <td><code>if [ "$a" -ge "$b" ]</code></td>
          </tr>
          <tr>
            <td><code>-lt</code></td>
            <td>小于</td>
            <td><code>if [ "$a" -lt "$b" ]</code></td>
          </tr>
          <tr>
            <td><code>-le</code></td>
            <td>小于等于</td>
            <td><code>if [ "$a" -le "$b" ]</code></td>
          </tr>
          <tr>
            <td><code>&#x3C;</code></td>
            <td>小于(在双括号里使用)</td>
            <td><code>(("$a" &#x3C; "$b"))</code></td>
          </tr>
          <tr>
            <td><code>&#x3C;=</code></td>
            <td>小于等于 (在双括号里使用)</td>
            <td><code>(("$a" &#x3C;= "$b"))</code></td>
          </tr>
          <tr>
            <td><code>></code></td>
            <td>大于 (在双括号里使用)</td>
            <td><code>(("$a" > "$b"))</code></td>
          </tr>
          <tr>
            <td><code>>=</code></td>
            <td>大于等于(在双括号里使用)</td>
            <td><code>(("$a" >= "$b"))</code></td>
          </tr>
        </tbody>
      </table>
      <p><strong>字符串比较</strong></p>
      <table>
        <thead>
          <tr>
            <th>比较操作符</th>
            <th>描述</th>
            <th>例子</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>=</td>
            <td>等于</td>
            <td><code>if [ "$a" = "$b" ]</code></td>
          </tr>
          <tr>
            <td>==</td>
            <td>等于，它和=是同义词。</td>
            <td><code>if [ "$a" == "$b" ]</code></td>
          </tr>
          <tr>
            <td>!=</td>
            <td>不相等，操作符在[[ ... ]]结构里使用模式匹配.</td>
            <td><code>if [ "$a" != "$b" ]</code></td>
          </tr>
          <tr>
            <td>&#x3C;</td>
            <td>小于，依照ASCII字符排列顺序，注意"&#x3C;"字符在[ ] 结构里需要转义</td>
            <td><code>if [[ "$a" &#x3C; "$b" ]]</code> <code>if [ "$a" \&#x3C; "$b" ]</code></td>
          </tr>
          <tr>
            <td>></td>
            <td>大于，依照ASCII字符排列顺序，注意">"字符在[ ] 结构里需要转义.</td>
            <td><code>if [[ "$a" > "$b" ]]</code> <code>if [ "$a" \> "$b" ]</code></td>
          </tr>
          <tr>
            <td>-z</td>
            <td>字符串为"null"，即是指字符串长度为零。</td>
            <td>-</td>
          </tr>
          <tr>
            <td>-n</td>
            <td>字符串不为"null"，即长度不为零。</td>
            <td>-</td>
          </tr>
        </tbody>
      </table>
      <p><strong>混合比较</strong></p>
      <table>
        <thead>
          <tr>
            <th>比较操作符</th>
            <th>描述</th>
            <th>例子</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>-a</td>
            <td>逻辑与，如果exp1和exp2都为真，则exp1 -a exp2返回真。</td>
            <td><code>if [ "$exp1" -a "$exp2" ]</code></td>
          </tr>
          <tr>
            <td>-o</td>
            <td>逻辑或，只要exp1和exp2任何一个为真，则exp1 -o exp2 返回真。</td>
            <td><code>if [ "$exp1" -o "$exp2" ]</code></td>
          </tr>
        </tbody>
      </table>
      <p>在一个混合测试中，把一个字符串变量引号引起来可能还不够。如果$string变量是空的话，表达式<code>[ -n "$string" -o "$a" = "$b" ]</code>在一些Bash版本中可能会引起错误。安全的办法是附加一个外部的字符串给可能有空字符串变量比较的所有变量，<code>[ "x$string" != x -o "x$a" = "x$b" ]</code> (x字符可以互相抵消)</p>
      <h2 id="操作字符串"><a class="anchor" aria-hidden="true" tabindex="-1" href="#操作字符串"><span class="octicon octicon-link"></span></a>操作字符串</h2>
      <p>Bash已经支持了令人惊讶的字符串操作的数量。不一致的命令语法和冗余的功能，导致真的学起来有困难。</p>
      <h3 id="字符串长度"><a class="anchor" aria-hidden="true" tabindex="-1" href="#字符串长度"><span class="octicon octicon-link"></span></a>字符串长度</h3>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">String</span><span class="token operator">=</span>abcABC123ABCabc

<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>String}</span>                 <span class="token comment"># 15</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> length $String<span class="token variable">`</span></span>      <span class="token comment"># 15</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token string">"<span class="token variable">$String</span>"</span> <span class="token builtin class-name">:</span> <span class="token string">'.*'</span><span class="token variable">`</span></span>    <span class="token comment"># 15</span>
</code><div onclick="copied(this)" data-code="String=abcABC123ABCabc

echo ${#String}                 # 15
echo &#x60;expr length $String&#x60;      # 15
echo &#x60;expr &#x22;$String&#x22; : &#x27;.*&#x27;&#x60;    # 15
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>匹配字符串开头的字串的长度，下面两种方法的 $substring 是一个正则表达式。</p>
      <p><code>expr match "$string" '$substring'</code><br><code>expr "$string" : '$substring'</code></p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">String</span><span class="token operator">=</span>abcABC123ABCabc
<span class="token comment">#       └------┘</span>
<span class="token comment">#       </span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> match <span class="token string">"<span class="token variable">$String</span>"</span> <span class="token string">'abc[A-Z]*.2'</span><span class="token variable">`</span></span>   <span class="token comment"># 8</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token string">"<span class="token variable">$String</span>"</span> <span class="token builtin class-name">:</span> <span class="token string">'abc[A-Z]*.2'</span><span class="token variable">`</span></span>       <span class="token comment"># 8</span>
</code><div onclick="copied(this)" data-code="String=abcABC123ABCabc
#       └------┘
#       
echo &#x60;expr match &#x22;$String&#x22; &#x27;abc[A-Z]*.2&#x27;&#x60;   # 8
echo &#x60;expr &#x22;$String&#x22; : &#x27;abc[A-Z]*.2&#x27;&#x60;       # 8
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="索引"><a class="anchor" aria-hidden="true" tabindex="-1" href="#索引"><span class="octicon octicon-link"></span></a>索引</h3>
      <p><code>expr index $string $substring</code> 在字符串$string中$substring第一次出现的数字位置</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">String</span><span class="token operator">=</span>abcABC123ABCabc
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">"<span class="token variable">$String</span>"</span> C12<span class="token variable">`</span></span>             <span class="token comment"># 6</span>
                                             <span class="token comment"># C 字符的位置.</span>

<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">"<span class="token variable">$String</span>"</span> 1c<span class="token variable">`</span></span>              <span class="token comment"># 3</span>
<span class="token comment"># 'c' (in #3 position) matches before '1'.</span>
</code><div onclick="copied(this)" data-code="String=abcABC123ABCabc
echo &#x60;expr index &#x22;$String&#x22; C12&#x60;             # 6
                                             # C 字符的位置.

echo &#x60;expr index &#x22;$String&#x22; 1c&#x60;              # 3
# &#x27;c&#x27; (in #3 position) matches before &#x27;1&#x27;.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="字串提取"><a class="anchor" aria-hidden="true" tabindex="-1" href="#字串提取"><span class="octicon octicon-link"></span></a>字串提取</h3>
      <p><code>${string:position}</code> 把$string中从第$postion个字符开始字符串提取出来。如果$string是"*"或"@"，则表示从位置参数中提取第$postion后面的字符串。<br><code>${string:position:length}</code> 把$string中$postion个字符后面的长度为$length的字符串提取出来。<a href="./example/demo18">demo18</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># 字串提取</span>
<span class="token assign-left variable">String</span><span class="token operator">=</span>abcABC123ABCabc
<span class="token comment">#       0123456789.....</span>
<span class="token comment">#       以0开始计算.</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:</span>0}</span>                            <span class="token comment"># abcABC123ABCabc</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:</span>1}</span>                            <span class="token comment"># bcABC123ABCabc</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:</span>7}</span>                            <span class="token comment"># 23ABCabc</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:</span>7<span class="token operator">:</span>3}</span>                          <span class="token comment"># 23A</span>
                                            <span class="token comment"># 提取的字串长为3</span>

<span class="token comment"># 有没有可能从字符串的右边结尾处提取?</span>
    
<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:-</span>4}</span>                           <span class="token comment"># abcABC123ABCabc</span>
<span class="token comment"># 默认是整个字符串，就相当于${parameter:-default}.</span>
<span class="token comment"># 然而. . .</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:</span>(-4)}</span>                         <span class="token comment"># Cabc </span>
<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:</span> -4}</span>                          <span class="token comment"># Cabc</span>
<span class="token comment"># 这样,它可以工作了.</span>
<span class="token comment"># 圆括号或附加的空白字符可以转义$position参数.</span>
</code><div onclick="copied(this)" data-code="# 字串提取
String=abcABC123ABCabc
#       0123456789.....
#       以0开始计算.

echo ${String:0}                            # abcABC123ABCabc
echo ${String:1}                            # bcABC123ABCabc
echo ${String:7}                            # 23ABCabc
echo ${String:7:3}                          # 23A
                                            # 提取的字串长为3

# 有没有可能从字符串的右边结尾处提取?
    
echo ${String:-4}                           # abcABC123ABCabc
# 默认是整个字符串，就相当于${parameter:-default}.
# 然而. . .

echo ${String:(-4)}                         # Cabc 
echo ${String: -4}                          # Cabc
# 这样,它可以工作了.
# 圆括号或附加的空白字符可以转义$position参数.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="字串移动"><a class="anchor" aria-hidden="true" tabindex="-1" href="#字串移动"><span class="octicon octicon-link"></span></a>字串移动</h3>
      <p><code>${string#substring}</code>从$string左边开始，剥去最短匹配$substring子串。<br><code>${string##substring}</code>从$string左边开始，剥去最长匹配$substring子串。<br><code>${string%substring}</code> 从$string结尾开始，剥去最短匹配$substring子串。<br><code>${string%%substring}</code>从$string结尾开始，剥去最长匹配$substring子串。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">String</span><span class="token operator">=</span>abcABC123ABCabc
<span class="token comment">#       ├----┘     ┆</span>
<span class="token comment">#       └----------┘</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">#</span>a*C}</span>      <span class="token comment"># 123ABCabc</span>
<span class="token comment"># 剥去匹配'a'到'C'之间最短的字符串.</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">##</span>a*C}</span>     <span class="token comment"># abc</span>
<span class="token comment"># 剥去匹配'a'到'C'之间最长的字符串.</span>


<span class="token assign-left variable">String</span><span class="token operator">=</span>abcABC123ABCabc
<span class="token comment">#       ┆           ||</span>
<span class="token comment">#       └------------┘</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">%</span>b*c}</span>      <span class="token comment"># abcABC123ABCa</span>
<span class="token comment"># 从$String后面尾部开始，剥去匹配'a'到'C'之间最短的字符串.</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">%%</span>b*c}</span>     <span class="token comment"># a</span>
<span class="token comment"># 从$String后面尾部开始，剥去匹配'a'到'C'之间最长的字符串.</span>
</code><div onclick="copied(this)" data-code="String=abcABC123ABCabc
#       ├----┘     ┆
#       └----------┘

echo ${String#a*C}      # 123ABCabc
# 剥去匹配&#x27;a&#x27;到&#x27;C&#x27;之间最短的字符串.

echo ${String##a*C}     # abc
# 剥去匹配&#x27;a&#x27;到&#x27;C&#x27;之间最长的字符串.


String=abcABC123ABCabc
#       ┆           ||
#       └------------┘

echo ${String%b*c}      # abcABC123ABCa
# 从$String后面尾部开始，剥去匹配&#x27;a&#x27;到&#x27;C&#x27;之间最短的字符串.

echo ${String%%b*c}     # a
# 从$String后面尾部开始，剥去匹配&#x27;a&#x27;到&#x27;C&#x27;之间最长的字符串.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="用awk处理字符串"><a class="anchor" aria-hidden="true" tabindex="-1" href="#用awk处理字符串"><span class="octicon octicon-link"></span></a>用awk处理字符串</h3>
      <p>Bash脚本可以调用awk的字符串操作功能来代替它自己内建的字符串操作符</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">String</span><span class="token operator">=</span>23skidoo1
<span class="token comment">#      012345678    Bash</span>
<span class="token comment">#      123456789    awk</span>
<span class="token comment"># 注意上面两个程序对索引的不同处理:</span>
<span class="token comment"># Bash把字符串的第一个字符的标号称为'0'。</span>
<span class="token comment"># Awk把字符串的第一个字符的标号称为'1'。</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${String<span class="token operator">:</span>2<span class="token operator">:</span>4}</span> <span class="token comment"># position 3 (0-1-2), 4 characters long</span>
                                         <span class="token comment"># skid</span>

<span class="token comment"># 在awk中与Bash的${string:pos:length}等同的是substr(string,pos,length)。</span>
<span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ 
  print substr("'</span>"<span class="token variable">${String}</span><span class="token string">"'"</span>,3,4<span class="token punctuation">)</span>      <span class="token comment"># skid</span>
<span class="token punctuation">}</span>'
<span class="token comment">#  用一个空的"echo"由管道传一个空的输入给awk,</span>
<span class="token comment">#+ 这样就不必提供一个文件名给awk。</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="String=23skidoo1
#      012345678    Bash
#      123456789    awk
# 注意上面两个程序对索引的不同处理:
# Bash把字符串的第一个字符的标号称为&#x27;0&#x27;。
# Awk把字符串的第一个字符的标号称为&#x27;1&#x27;。

echo ${String:2:4} # position 3 (0-1-2), 4 characters long
                                         # skid

# 在awk中与Bash的${string:pos:length}等同的是substr(string,pos,length)。
echo | awk &#x27;{ 
  print substr(&#x22;&#x27;&#x22;${String}&#x22;&#x27;&#x22;,3,4)      # skid
}&#x27;
#  用一个空的&#x22;echo&#x22;由管道传一个空的输入给awk,
#+ 这样就不必提供一个文件名给awk。
exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h2 id="forwhile"><a class="anchor" aria-hidden="true" tabindex="-1" href="#forwhile"><span class="octicon octicon-link"></span></a>for/while</h2>
      <p>重复一些命令的代码块,如果条件不满足就退出循环。</p>
      <h3 id="for"><a class="anchor" aria-hidden="true" tabindex="-1" href="#for"><span class="octicon octicon-link"></span></a>for</h3>
      <p>在循环的每次执行中，arg将顺序的存取list中列出的变量，下面是一个基本的循环结构。<a href="./example/demo27">demo27</a></p>
      <blockquote>
        <p>for arg in [list]<br>do<br>command(s)...<br>done</p>
      </blockquote>
      <p>每个<code>[list]</code>中的元素都可能包含多个参数，在处理参数组时，这是非常有用的，使用set命令来强制解析每个<code>[list]</code>中的元素。并且分配每个解析出来的部分到一个位置参数中。</p>
      <p>循环的一个简单例子</p>
      <pre class="language-shell"><code class="language-shell"><span class="token keyword">for</span> <span class="token for-or-select variable">planet</span> <span class="token keyword">in</span> Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune Pluto
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token variable">$planet</span>  <span class="token comment"># 每个行星被单独打印在一行上.</span>
<span class="token keyword">done</span>
</code><div onclick="copied(this)" data-code="for planet in Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune Pluto
do
  echo $planet  # 每个行星被单独打印在一行上.
done
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="while"><a class="anchor" aria-hidden="true" tabindex="-1" href="#while"><span class="octicon octicon-link"></span></a>while</h3>
      <p>一个while循环可以有多个判断条件，但是只有最后一个才能决定是否退出循环。然而这需要一种有点不同的循环语法。</p>
      <blockquote>
        <p>while [condition]<br>do<br>command...<br>done</p>
      </blockquote>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># --------------------------</span>
<span class="token comment"># 简单的while循环</span>
<span class="token comment"># --------------------------</span>
<span class="token assign-left variable">var0</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">LIMIT</span><span class="token operator">=</span><span class="token number">10</span>

<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$var0</span>"</span> -lt <span class="token string">"<span class="token variable">$LIMIT</span>"</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> -n <span class="token string">"<span class="token variable">$var0</span> "</span>        <span class="token comment"># -n 将会阻止产生新行。</span>
  <span class="token comment">#             ^           空格,数字之间的分隔。</span>
  <span class="token assign-left variable">var0</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $var0 + <span class="token number">1</span><span class="token variable">`</span></span>   <span class="token comment"># var0=$(($var0+1))  也可以。</span>
                          <span class="token comment"># var0=$((var0 + 1)) 也可以。</span>
                          <span class="token comment"># let "var0 += 1"    也可以。</span>
<span class="token keyword">done</span>                      <span class="token comment"># 使用其他的方法也行。</span>
<span class="token comment"># --------------------------</span>
<span class="token comment"># 多条件的while循环</span>
<span class="token comment"># --------------------------</span>
<span class="token assign-left variable">var1</span><span class="token operator">=</span>unset
<span class="token assign-left variable">previous</span><span class="token operator">=</span><span class="token variable">$var1</span>

<span class="token keyword">while</span> <span class="token builtin class-name">echo</span> <span class="token string">"previous-variable = <span class="token variable">$previous</span>"</span>
      <span class="token builtin class-name">echo</span>
      <span class="token assign-left variable">previous</span><span class="token operator">=</span><span class="token variable">$var1</span>
      <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$var1</span>"</span> <span class="token operator">!=</span> end <span class="token punctuation">]</span> <span class="token comment"># 记录之前的$var1.</span>
      <span class="token comment"># 这个"while"循环中有4个条件, 但是只有最后一个能控制循环.</span>
      <span class="token comment"># 退出状态由第4个条件决定.</span>
<span class="token keyword">do</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Input variable #1 (end to exit) "</span>
  <span class="token builtin class-name">read</span> var1
  <span class="token builtin class-name">echo</span> <span class="token string">"variable #1 = <span class="token variable">$var1</span>"</span>
<span class="token keyword">done</span> 
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="# --------------------------
# 简单的while循环
# --------------------------
var0=0
LIMIT=10

while [ &#x22;$var0&#x22; -lt &#x22;$LIMIT&#x22; ]
do
  echo -n &#x22;$var0 &#x22;        # -n 将会阻止产生新行。
  #             ^           空格,数字之间的分隔。
  var0=&#x60;expr $var0 + 1&#x60;   # var0=$(($var0+1))  也可以。
                          # var0=$((var0 + 1)) 也可以。
                          # let &#x22;var0 += 1&#x22;    也可以。
done                      # 使用其他的方法也行。
# --------------------------
# 多条件的while循环
# --------------------------
var1=unset
previous=$var1

while echo &#x22;previous-variable = $previous&#x22;
      echo
      previous=$var1
      [ &#x22;$var1&#x22; != end ] # 记录之前的$var1.
      # 这个&#x22;while&#x22;循环中有4个条件, 但是只有最后一个能控制循环.
      # 退出状态由第4个条件决定.
do
echo &#x22;Input variable #1 (end to exit) &#x22;
  read var1
  echo &#x22;variable #1 = $var1&#x22;
done 
exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="until"><a class="anchor" aria-hidden="true" tabindex="-1" href="#until"><span class="octicon octicon-link"></span></a>until</h3>
      <p>这个结构在循环的顶部判断条件，并且如果条件一直为false那就一直循环下去。(与while相反)。</p>
      <blockquote>
        <p>until [condition-is-true]<br>do<br>command...<br>done</p>
      </blockquote>
      <p><strong>注意⚠️</strong></p>
      <ol>
        <li>until循环的判断在循环的顶部，这与某些编程语言是不同的。</li>
        <li>与for循环一样，如果想把do和条件放在一行里，就使用";"。</li>
      </ol>
      <blockquote>
        <p>until [condition-is-true] ; do</p>
      </blockquote>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">END_CONDITION</span><span class="token operator">=</span>end
<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$var1</span>"</span> <span class="token operator">=</span> <span class="token string">"<span class="token variable">$END_CONDITION</span>"</span> <span class="token punctuation">]</span>
<span class="token comment"># 在循环的顶部判断条件.</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"Input variable #1 "</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"(<span class="token variable">$END_CONDITION</span> to exit)"</span>
  <span class="token builtin class-name">read</span> var1
  <span class="token builtin class-name">echo</span> <span class="token string">"variable #1 = <span class="token variable">$var1</span>"</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="END_CONDITION=end
until [ &#x22;$var1&#x22; = &#x22;$END_CONDITION&#x22; ]
# 在循环的顶部判断条件.
do
  echo &#x22;Input variable #1 &#x22;
  echo &#x22;($END_CONDITION to exit)&#x22;
  read var1
  echo &#x22;variable #1 = $var1&#x22;
done
exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="嵌套循环"><a class="anchor" aria-hidden="true" tabindex="-1" href="#嵌套循环"><span class="octicon octicon-link"></span></a>嵌套循环</h3>
      <p>嵌套循环就是在一个循环中还有一个循环，内部循环在外部循环体中。<a href="./example/demo28">demo28</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">outer</span><span class="token operator">=</span><span class="token number">1</span>             <span class="token comment"># 设置外部循环计数.</span>
<span class="token comment"># 开始外部循环.</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">a</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"Pass <span class="token variable">$outer</span> in outer loop."</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"---------------------"</span>
  <span class="token assign-left variable">inner</span><span class="token operator">=</span><span class="token number">1</span>           <span class="token comment"># 重设内部循环的计数.</span>

  <span class="token comment"># ===============================================</span>
  <span class="token comment"># 开始内部循环.</span>
  <span class="token keyword">for</span> <span class="token for-or-select variable">b</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span>
  <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Pass <span class="token variable">$inner</span> in inner loop."</span>
    <span class="token builtin class-name">let</span> <span class="token string">"inner+=1"</span>  <span class="token comment"># 增加内部循环计数.</span>
  <span class="token keyword">done</span>
  <span class="token comment"># 内部循环结束.</span>
  <span class="token comment"># ===============================================</span>

  <span class="token builtin class-name">let</span> <span class="token string">"outer+=1"</span>    <span class="token comment"># 增加外部循环的计数.</span>
  <span class="token builtin class-name">echo</span>              <span class="token comment"># 每次外部循环之间的间隔.</span>
<span class="token keyword">done</span>               
<span class="token comment"># 外部循环结束.</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="outer=1             # 设置外部循环计数.
# 开始外部循环.
for a in 1 2 3 4 5
do
  echo &#x22;Pass $outer in outer loop.&#x22;
  echo &#x22;---------------------&#x22;
  inner=1           # 重设内部循环的计数.

  # ===============================================
  # 开始内部循环.
  for b in 1 2 3 4 5
  do
    echo &#x22;Pass $inner in inner loop.&#x22;
    let &#x22;inner+=1&#x22;  # 增加内部循环计数.
  done
  # 内部循环结束.
  # ===============================================

  let &#x22;outer+=1&#x22;    # 增加外部循环的计数.
  echo              # 每次外部循环之间的间隔.
done               
# 外部循环结束.

exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="循环控制"><a class="anchor" aria-hidden="true" tabindex="-1" href="#循环控制"><span class="octicon octicon-link"></span></a>循环控制</h3>
      <p>影响循环行为的命令 <code>break</code>， <code>continue</code>， break命令将会跳出循环，continue命令将会跳过本次循环下边的语句，直接进入下次循环。<a href="./example/demo29">demo29</a></p>
      <p><strong>continue：</strong> continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">LIMIT</span><span class="token operator">=</span><span class="token number">19</span>  <span class="token comment"># 上限</span>

<span class="token builtin class-name">echo</span> <span class="token string">"Printing Numbers 1 through 20 (but not 3 and 11)."</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -le <span class="token string">"<span class="token variable">$LIMIT</span>"</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
  <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$a<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$a</span>"</span> -eq <span class="token number">3</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$a</span>"</span> -eq <span class="token number">11</span> <span class="token punctuation">]</span>  <span class="token comment"># Excludes 3 and 11.</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">continue</span>      <span class="token comment"># 跳过本次循环剩下的语句.</span>
  <span class="token keyword">fi</span>
  <span class="token builtin class-name">echo</span> -n <span class="token string">"<span class="token variable">$a</span> "</span>   <span class="token comment"># 在$a等于3和11的时候,这句将不会执行.</span>
<span class="token keyword">done</span> 
</code><div onclick="copied(this)" data-code="LIMIT=19  # 上限

echo &#x22;Printing Numbers 1 through 20 (but not 3 and 11).&#x22;

a=0

while [ $a -le &#x22;$LIMIT&#x22; ]
do
  a=$(($a+1))
  if [ &#x22;$a&#x22; -eq 3 ] || [ &#x22;$a&#x22; -eq 11 ]  # Excludes 3 and 11.
  then
    continue      # 跳过本次循环剩下的语句.
  fi
  echo -n &#x22;$a &#x22;   # 在$a等于3和11的时候,这句将不会执行.
done 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p><strong>break：</strong> break命令允许跳出所有循环（终止执行后面的所有循环）。</p>
      <p>下面的例子中，脚本进入死循环直至用户输入数字大于5。要跳出这个循环，返回到shell提示符下，就要使用break命令。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> -n <span class="token string">"Input a number between 1 to 5: "</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"Your number is <span class="token variable">$aNum</span>!"</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">"You do not select a number between 1 to 5, game is over!"</span>
            <span class="token builtin class-name">break</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
</code><div onclick="copied(this)" data-code="while :
do
    echo -n &#x22;Input a number between 1 to 5: &#x22;
    read aNum
    case $aNum in
        1|2|3|4|5) echo &#x22;Your number is $aNum!&#x22;
        ;;
        *) echo &#x22;You do not select a number between 1 to 5, game is over!&#x22;
            break
        ;;
    esac
done
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>⚠️ 在嵌套循环中，break 命令后面还可以跟一个整数，表示跳出第几层循环。例如：</p>
      <pre class="language-shell"><code class="language-shell"><span class="token builtin class-name">break</span> n <span class="token comment">#表示跳出第 n 层循环。</span>
</code><div onclick="copied(this)" data-code="break n #表示跳出第 n 层循环。
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h2 id="caseselect"><a class="anchor" aria-hidden="true" tabindex="-1" href="#caseselect"><span class="octicon octicon-link"></span></a>case/select</h2>
      <p>case/select依靠在代码块的顶部或底部的条件判断来决定程序的分支。</p>
      <h3 id="case"><a class="anchor" aria-hidden="true" tabindex="-1" href="#case"><span class="octicon octicon-link"></span></a>case</h3>
      <p>case它允许通过判断来选择代码块中多条路径中的一条。它的作用和多个if/then/else语句相同，是它们的简化结构，特别适用于创建目录。<a href="./example/demo30">demo30</a></p>
      <blockquote>
        <pre class="language-shell"><code class="language-shell"><span class="token keyword">case</span> <span class="token string">"<span class="token variable">$variable</span>"</span> <span class="token keyword">in</span>   
  ?<span class="token string">"<span class="token variable">$condition1</span>"</span> <span class="token punctuation">)</span>   
  ?command<span class="token punctuation">..</span>.   
  ?<span class="token punctuation">;</span><span class="token punctuation">;</span>   
  ?<span class="token string">"<span class="token variable">$condition2</span>"</span> <span class="token punctuation">)</span>   
  ?command<span class="token punctuation">..</span>.   
  ?<span class="token punctuation">;</span><span class="token punctuation">;</span>   
<span class="token keyword">esac</span>  
</code><div onclick="copied(this)" data-code="case &#x22;$variable&#x22; in   
  ?&#x22;$condition1&#x22; )   
  ?command...   
  ?;;   
  ?&#x22;$condition2&#x22; )   
  ?command...   
  ?;;   
esac  
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      </blockquote>
      <ul>
        <li>对变量使用<code>""</code>并不是强制的，因为不会发生单词分离。</li>
        <li>每句测试行，都以右小括号<code>)</code>结尾。</li>
        <li>每个条件块都以两个分号结尾<code>;;</code>。</li>
        <li>case块的结束以esac(case的反向拼写)结尾。</li>
      </ul>
      <pre class="language-shell"><code class="language-shell"><span class="token function">clear</span> <span class="token comment"># 清屏.</span>

<span class="token builtin class-name">echo</span> <span class="token string">"          我的简历"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"          ------- "</span>
<span class="token builtin class-name">echo</span> <span class="token string">"下面通过shell脚本输出我的简历"</span> 
<span class="token builtin class-name">echo</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[B]asicinfo, 基本信息"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[E]ducation, 教育经历"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[I]tskill, IT 技能"</span>
<span class="token builtin class-name">echo</span>
<span class="token builtin class-name">read</span> person
<span class="token keyword">case</span> <span class="token string">"<span class="token variable">$person</span>"</span> <span class="token keyword">in</span>
<span class="token comment"># 注意,变量是被引用的.</span>
  <span class="token string">"B"</span> <span class="token operator">|</span> <span class="token string">"b"</span> <span class="token punctuation">)</span>
  <span class="token comment"># 接受大写或小写输入.</span>
  <span class="token builtin class-name">echo</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"小弟调调"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"手  机 : 136*****13"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"E-mail :wowohoo@qq.com"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"首  页 : http://JSLite.io"</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token comment"># 注意,在每个选项后边都需要以;;结尾.</span>

  <span class="token string">"E"</span> <span class="token operator">|</span> <span class="token string">"e"</span> <span class="token punctuation">)</span>
  <span class="token comment"># 接受大写或小写输入.</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"■ 2003年9月 到 2006年8月"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"----------------------------"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"› 学校 : 野鸟高中"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"› 专业 : 艺术类"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"› 学历 : 高中"</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token comment"># 后边的[I]tskill的信息在这里就省略了.</span>
          * <span class="token punctuation">)</span>
   <span class="token comment"># 默认选项.</span>
   <span class="token comment"># 空输入(敲RETURN).</span>
   <span class="token builtin class-name">echo</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"没有数据！"</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="clear # 清屏.

echo &#x22;          我的简历&#x22;
echo &#x22;          ------- &#x22;
echo &#x22;下面通过shell脚本输出我的简历&#x22; 
echo
echo &#x22;[B]asicinfo, 基本信息&#x22;
echo &#x22;[E]ducation, 教育经历&#x22;
echo &#x22;[I]tskill, IT 技能&#x22;
echo
read person
case &#x22;$person&#x22; in
# 注意,变量是被引用的.
  &#x22;B&#x22; | &#x22;b&#x22; )
  # 接受大写或小写输入.
  echo
  echo &#x22;小弟调调&#x22;
  echo &#x22;手  机 : 136*****13&#x22;
  echo &#x22;E-mail :wowohoo@qq.com&#x22;
  echo &#x22;首  页 : http://JSLite.io&#x22;
  ;;
  # 注意,在每个选项后边都需要以;;结尾.

  &#x22;E&#x22; | &#x22;e&#x22; )
  # 接受大写或小写输入.
  echo &#x22;■ 2003年9月 到 2006年8月&#x22;
  echo &#x22;----------------------------&#x22;
  echo &#x22;› 学校 : 野鸟高中&#x22;
  echo &#x22;› 专业 : 艺术类&#x22;
  echo &#x22;› 学历 : 高中&#x22;
  ;;
  # 后边的[I]tskill的信息在这里就省略了.
          * )
   # 默认选项.
   # 空输入(敲RETURN).
   echo
   echo &#x22;没有数据！&#x22;
  ;;
esac
exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="select"><a class="anchor" aria-hidden="true" tabindex="-1" href="#select"><span class="octicon octicon-link"></span></a>select</h3>
      <p>select结构是建立菜单的另一种工具，这种结构是从ksh中引入的。</p>
      <blockquote>
        <p>select variable [in list]<br>do<br>?command...<br>?break<br>done</p>
      </blockquote>
      <p>用select来创建菜单</p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable"><span class="token environment constant">PS3</span></span><span class="token operator">=</span><span class="token string">'选择你喜欢的蔬菜: '</span> <span class="token comment"># 设置提示符字串.</span>

<span class="token builtin class-name">echo</span>
<span class="token keyword">select</span> <span class="token for-or-select variable">vegetable</span> <span class="token keyword">in</span> <span class="token string">"豆"</span> <span class="token string">"胡萝卜"</span> <span class="token string">"土豆"</span> <span class="token string">"洋葱"</span> <span class="token string">"芜菁甘蓝"</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"你最喜欢的蔬菜是 <span class="token variable">$vegetable</span> 。"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"讨厌!"</span>
  <span class="token builtin class-name">echo</span>
  <span class="token builtin class-name">break</span>  <span class="token comment"># 如果这里没有'break'会发生什么?</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="PS3=&#x27;选择你喜欢的蔬菜: &#x27; # 设置提示符字串.

echo
select vegetable in &#x22;豆&#x22; &#x22;胡萝卜&#x22; &#x22;土豆&#x22; &#x22;洋葱&#x22; &#x22;芜菁甘蓝&#x22;
do
  echo
  echo &#x22;你最喜欢的蔬菜是 $vegetable 。&#x22;
  echo &#x22;讨厌!&#x22;
  echo
  break  # 如果这里没有&#x27;break&#x27;会发生什么?
done
exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>如果忽略了in list列表,那么select命令将使用传递到脚本的命令行参数($@),或者是函数参数(当select是在函数中时）与忽略in list时的for语句相比较：<strong>for variable [in list]</strong></p>
      <pre class="language-shell"><code class="language-shell"><span class="token assign-left variable"><span class="token environment constant">PS3</span></span><span class="token operator">=</span><span class="token string">'选择你喜欢的蔬菜:  '</span>
<span class="token builtin class-name">echo</span>
<span class="token function-name function">choice_of</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">select</span> vegetable
  <span class="token comment"># [in list] 被忽略, 所以'select'用传递给函数的参数.</span>
  <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"你最喜欢的蔬菜是  <span class="token variable">$vegetable</span>。"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"讨厌!"</span>
    <span class="token builtin class-name">echo</span>
    <span class="token builtin class-name">break</span>
  <span class="token keyword">done</span>
<span class="token punctuation">}</span>

choice_of <span class="token string">"豆"</span> <span class="token string">"米饭"</span> <span class="token string">"胡萝卜"</span> <span class="token string">"土豆"</span> <span class="token string">"洋葱"</span> <span class="token string">"芜菁甘蓝"</span>
<span class="token comment">#         $1   $2     $3      $4    $5     $6</span>
<span class="token comment">#         传递给choice_of() 函数的参数</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code><div onclick="copied(this)" data-code="PS3=&#x27;选择你喜欢的蔬菜:  &#x27;
echo
choice_of(){
  select vegetable
  # [in list] 被忽略, 所以&#x27;select&#x27;用传递给函数的参数.
  do
    echo
    echo &#x22;你最喜欢的蔬菜是  $vegetable。&#x22;
    echo &#x22;讨厌!&#x22;
    echo
    break
  done
}

choice_of &#x22;豆&#x22; &#x22;米饭&#x22; &#x22;胡萝卜&#x22; &#x22;土豆&#x22; &#x22;洋葱&#x22; &#x22;芜菁甘蓝&#x22;
#         $1   $2     $3      $4    $5     $6
#         传递给choice_of() 函数的参数

exit 0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h2 id="函数"><a class="anchor" aria-hidden="true" tabindex="-1" href="#函数"><span class="octicon octicon-link"></span></a>函数</h2>
      <p>和"真正的"编程语言一样，Bash也有函数，虽然在某些实现方面稍有些限制。 一个函数是一个子程序，用于实现一串操作的代码块(code block)，它是完成特定任务的"黑盒子"。 当有重复代码，当一个任务只需要很少的修改就被重复几次执行时, 这时你应考虑使用函数。 <a href="./example/demo33">demo33</a></p>
      <pre class="language-shell"><code class="language-shell"><span class="token keyword">function</span> <span class="token function-name function">function_name</span> <span class="token punctuation">{</span> 
  command<span class="token punctuation">..</span>. 
<span class="token punctuation">}</span> 
<span class="token comment"># 或</span>
<span class="token function-name function">function_name</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  command<span class="token punctuation">..</span>. 
<span class="token punctuation">}</span> 
</code><div onclick="copied(this)" data-code="function function_name { 
  command... 
} 
# 或
function_name () { 
  command... 
} 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>在一个函数内嵌套另一个函数也是可以的，但是不常用。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token function-name function">f1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function-name function">f2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment"># nested</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Function <span class="token entity" title="\&#x22;">\"</span>f2<span class="token entity" title="\&#x22;">\"</span>, inside <span class="token entity" title="\&#x22;">\"</span>f1<span class="token entity" title="\&#x22;">\"</span>."</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>  
f2  <span class="token comment">#  引起错误.</span>
    <span class="token comment">#  就是你先"declare -f f2"了也没用.</span>

f1  <span class="token comment">#  什么也不做,因为调用"f1"不会自动调用"f2".</span>
f2  <span class="token comment">#  现在,可以正确的调用"f2"了,</span>
    <span class="token comment">#+ 因为之前调用"f1"使"f2"在脚本中变得可见了.</span>
</code><div onclick="copied(this)" data-code="f1 (){
  f2 (){ # nested
    echo &#x22;Function \&#x22;f2\&#x22;, inside \&#x22;f1\&#x22;.&#x22;
  }
}  
f2  #  引起错误.
    #  就是你先&#x22;declare -f f2&#x22;了也没用.

f1  #  什么也不做,因为调用&#x22;f1&#x22;不会自动调用&#x22;f2&#x22;.
f2  #  现在,可以正确的调用&#x22;f2&#x22;了,
    #+ 因为之前调用&#x22;f1&#x22;使&#x22;f2&#x22;在脚本中变得可见了.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="局部变量"><a class="anchor" aria-hidden="true" tabindex="-1" href="#局部变量"><span class="octicon octicon-link"></span></a>局部变量</h3>
      <p>如果变量用local来声明，那么它只能在该变量声明的代码块(block of code)中可见，这个代码块就是局部"范围"。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token comment"># 在函数内部的全局和局部变量.</span>
<span class="token function-name function">func</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token builtin class-name">local</span> <span class="token assign-left variable">loc_var</span><span class="token operator">=</span><span class="token number">23</span>       <span class="token comment"># 声明为局部变量.</span>
  <span class="token builtin class-name">echo</span>                   <span class="token comment"># 使用内建的'local'关键字.</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&#x22;">\"</span>loc_var<span class="token entity" title="\&#x22;">\"</span> in function = <span class="token variable">$loc_var</span>"</span>
  <span class="token assign-left variable">global_var</span><span class="token operator">=</span><span class="token number">999</span>         <span class="token comment"># 没有声明为局部变量.</span>
                         <span class="token comment"># 默认为全局变量. </span>
  <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&#x22;">\"</span>global_var<span class="token entity" title="\&#x22;">\"</span> in function = <span class="token variable">$global_var</span>"</span>
<span class="token punctuation">}</span>  

func
<span class="token comment"># 现在，来看看是否局部变量"loc_var"能否在函数外面可见.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&#x22;">\"</span>loc_var<span class="token entity" title="\&#x22;">\"</span> outside function = <span class="token variable">$loc_var</span>"</span>
                                   <span class="token comment"># $loc_var outside function = </span>
                                   <span class="token comment"># 不, $loc_var不是全局可访问的.</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\&#x22;">\"</span>global_var<span class="token entity" title="\&#x22;">\"</span> outside function = <span class="token variable">$global_var</span>"</span>
                                      <span class="token comment"># $global_var outside function = 999</span>
                                      <span class="token comment"># $global_var 是全局可访问的.</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token comment">#  与In contrast to C相比, 在函数内声明的Bash变量只有在</span>
<span class="token comment">#+ 它被明确声明成局部的变量时才是局部的</span>
</code><div onclick="copied(this)" data-code="# 在函数内部的全局和局部变量.
func ()
{
  local loc_var=23       # 声明为局部变量.
  echo                   # 使用内建的&#x27;local&#x27;关键字.
  echo &#x22;\&#x22;loc_var\&#x22; in function = $loc_var&#x22;
  global_var=999         # 没有声明为局部变量.
                         # 默认为全局变量. 
  echo &#x22;\&#x22;global_var\&#x22; in function = $global_var&#x22;
}  

func
# 现在，来看看是否局部变量&#x22;loc_var&#x22;能否在函数外面可见.
echo &#x22;\&#x22;loc_var\&#x22; outside function = $loc_var&#x22;
                                   # $loc_var outside function = 
                                   # 不, $loc_var不是全局可访问的.
echo &#x22;\&#x22;global_var\&#x22; outside function = $global_var&#x22;
                                      # $global_var outside function = 999
                                      # $global_var 是全局可访问的.
exit 0
#  与In contrast to C相比, 在函数内声明的Bash变量只有在
#+ 它被明确声明成局部的变量时才是局部的
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>⚠️ ：在函数调用之前，所有在函数内声明且没有明确声明为local的变量都可在函数体外可见</p>
      <pre class="language-shell"><code class="language-shell"><span class="token function-name function">func</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token assign-left variable">global_var</span><span class="token operator">=</span><span class="token number">37</span>    <span class="token comment">#  在函数还没有被调用前</span>
                   <span class="token comment">#+ 变量只在函数内可见. </span>
<span class="token punctuation">}</span>                  <span class="token comment">#  函数结束</span>
<span class="token builtin class-name">echo</span> <span class="token string">"global_var = <span class="token variable">$global_var</span>"</span>  <span class="token comment"># global_var =</span>
                                 <span class="token comment">#  函数"func"还没有被调用,</span>
                                 <span class="token comment">#+ 所以变量$global_var还不能被访问.</span>
func
<span class="token builtin class-name">echo</span> <span class="token string">"global_var = <span class="token variable">$global_var</span>"</span>  <span class="token comment"># global_var = 37</span>
                                 <span class="token comment"># 已经在函数调用时设置了值.</span>
</code><div onclick="copied(this)" data-code="func (){
  global_var=37    #  在函数还没有被调用前
                   #+ 变量只在函数内可见. 
}                  #  函数结束
echo &#x22;global_var = $global_var&#x22;  # global_var =
                                 #  函数&#x22;func&#x22;还没有被调用,
                                 #+ 所以变量$global_var还不能被访问.
func
echo &#x22;global_var = $global_var&#x22;  # global_var = 37
                                 # 已经在函数调用时设置了值.
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="函数参数"><a class="anchor" aria-hidden="true" tabindex="-1" href="#函数参数"><span class="octicon octicon-link"></span></a>函数参数</h3>
      <p>在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 <code>$n</code> 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数</p>
      <pre class="language-shell"><code class="language-shell"><span class="token function-name function">funWithParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第一个参数为 <span class="token variable">$1</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第二个参数为 <span class="token variable">$2</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第十个参数为 <span class="token variable">$10</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第十个参数为 <span class="token variable">${10}</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"第十一个参数为 <span class="token variable">${11}</span> !"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"参数总数有 <span class="token variable">$#</span> 个!"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"作为一个字符串输出所有参数 <span class="token variable">$*</span> !"</span>
<span class="token punctuation">}</span>
funWithParam <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span>
</code><div onclick="copied(this)" data-code="funWithParam(){
    echo &#x22;第一个参数为 $1 !&#x22;
    echo &#x22;第二个参数为 $2 !&#x22;
    echo &#x22;第十个参数为 $10 !&#x22;
    echo &#x22;第十个参数为 ${10} !&#x22;
    echo &#x22;第十一个参数为 ${11} !&#x22;
    echo &#x22;参数总数有 $# 个!&#x22;
    echo &#x22;作为一个字符串输出所有参数 $* !&#x22;
}
funWithParam 1 2 3 4 5 6 7 8 9 34 73
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <h3 id="函数返回值"><a class="anchor" aria-hidden="true" tabindex="-1" href="#函数返回值"><span class="octicon octicon-link"></span></a>函数返回值</h3>
      <p>定义一个带有return语句的函数。函数返回值在调用该函数后通过 <code>$?</code> 来获得。</p>
      <pre class="language-shell"><code class="language-shell"><span class="token function-name function">funWithReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"这个函数会对输入的两个数字进行相加运算..."</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"输入第一个数字: "</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token builtin class-name">echo</span> <span class="token string">"输入第二个数字: "</span>
    <span class="token builtin class-name">read</span> anotherNum
    <span class="token builtin class-name">echo</span> <span class="token string">"两个数字分别为 <span class="token variable">$aNum</span> 和 <span class="token variable">$anotherNum</span> !"</span>
    <span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$aNum<span class="token operator">+</span>$anotherNum<span class="token variable">))</span></span>
<span class="token punctuation">}</span>
funWithReturn
<span class="token builtin class-name">echo</span> <span class="token string">"输入的两个数字之和为 <span class="token variable">$?</span> !"</span>

<span class="token comment"># 这个函数会对输入的两个数字进行相加运算...</span>
<span class="token comment"># 输入第一个数字: </span>
<span class="token comment"># 1</span>
<span class="token comment"># 输入第二个数字: </span>
<span class="token comment"># 2</span>
<span class="token comment"># 两个数字分别为 1 和 2 !</span>
<span class="token comment"># 输入的两个数字之和为 3 !</span>
</code><div onclick="copied(this)" data-code="funWithReturn(){
    echo &#x22;这个函数会对输入的两个数字进行相加运算...&#x22;
    echo &#x22;输入第一个数字: &#x22;
    read aNum
    echo &#x22;输入第二个数字: &#x22;
    read anotherNum
    echo &#x22;两个数字分别为 $aNum 和 $anotherNum !&#x22;
    return $(($aNum+$anotherNum))
}
funWithReturn
echo &#x22;输入的两个数字之和为 $? !&#x22;

# 这个函数会对输入的两个数字进行相加运算...
# 输入第一个数字: 
# 1
# 输入第二个数字: 
# 2
# 两个数字分别为 1 和 2 !
# 输入的两个数字之和为 3 !
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      <p>⚠️ <code>$10</code> 不能获取第十个参数，获取第十个参数需要${10}。当n>=10时，需要使用${n}来获取参数。</p>
      <p><strong>特殊字符用来处理参数：</strong></p>
      <table>
        <thead>
          <tr>
            <th>参数处理</th>
            <th>说明</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>$#</td>
            <td>传递到脚本的参数个数</td>
          </tr>
          <tr>
            <td>$*</td>
            <td>以一个单字符串显示所有向脚本传递的参数</td>
          </tr>
          <tr>
            <td>$$</td>
            <td>脚本运行的当前进程ID号</td>
          </tr>
          <tr>
            <td>$!</td>
            <td>后台运行的最后一个进程的ID号</td>
          </tr>
          <tr>
            <td>$@</td>
            <td>与$*相同，但是使用时加引号，并在引号中返回每个参数。</td>
          </tr>
          <tr>
            <td>$-</td>
            <td>显示Shell使用的当前选项，与set命令功能相同。</td>
          </tr>
          <tr>
            <td>$?</td>
            <td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td>
          </tr>
        </tbody>
      </table>
      <script>function copied(target, str) {
target.classList.add('active');
copyTextToClipboard(target.dataset.code, function() {
setTimeout(() => {
target.classList.remove('active');
}, 2000);
});
}</script>
      <script src="https://unpkg.com/@uiw/copy-to-clipboard/dist/copy-to-clipboard.umd.js"></script>
    </div>
  </body>
</html>
